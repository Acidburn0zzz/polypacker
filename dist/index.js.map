{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap c6f42c8685b3e24a389d","webpack:///./src/identity.js","webpack:///external \"webpack\"","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./src/argparser/argumentMap.js","webpack:///./src/argparser/utils.js","webpack:///./src/logging.js","webpack:///./src/webpacker/autoLoader.js","webpack:///./src/webpacker/index.js","webpack:///external \"colors\"","webpack:///./src/argparser/parser.js","webpack:///./src/argparser/parserFromArgumentMap.js","webpack:///./src/argparser/presetMap.js","webpack:///./src/argparser/presets.js","webpack:///./src/index.js","webpack:///./src/taskManager.js","webpack:///./src/webpacker/configBuilder.js","webpack:///./src/webpacker/modifiers.js","webpack:///./src/webpacker/subConfigBuilders.js","webpack:///external \"argparse\"","webpack:///external \"death\"","webpack:///external \"nodemon\"","webpack:///external \"read-json-sync\"","webpack:///external \"webpack-node-externals\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","compound","_ref","context","env","toLowerCase","sign","obj","arguments","length","undefined","entry","out","hot","_obj$env","derivedEnv","identity","signature","Object","defineProperty","value","Symbol","process","NODE_ENV","toUpperCase","require","attrHelp","argumentMap","help","watch","action","run","aliases","dest","preset","babelPreset","defaultValue","logLevel","_interopRequireDefault","__esModule","default","_parser","_parser2","clone","_typeof","copy","constructor","attr","hasOwnProperty","selectTask","taskWrapper","compilers","task","meta","flatten","arrays","concat","apply","splitByContext","args","Array","isArray","map","contexts","contextArgs","splitByEnv","envs","environments","envArgs","iterator","log","str","console","pad","num","slice","shortTimestamp","d","Date","getHours","getMinutes","getSeconds","upperFirst","substr","prefix","_ref$color","color","_colors2","importantLog","_ref2","_ref2$color","bold","logImportantFromToAction","acting","_ref3","_ref3$identity","_identity2","logCompilation","err","stats","_ref4","status","red","hasErrors","toString","colors","errorDetails","cyan","compiler","_colors","_identity","_objectWithoutProperties","keys","target","i","indexOf","prototype","simpleTemplate","name","data","_extends","test","RegExp","expandLoaderData","loader","loaders","expandSimpleLoaderMap","reduce","newMap","buildExpander","loaderSetMap","expandLoader","explicit","forEach","endsWith","expandExplicitLoaders","explicitLoaders","autoLoader","_ref2$jsonPath","jsonPath","_ref2$loaderMap","loaderMap","defaultLoaderMap","_ref2$loaderSetMap","defaultLoaderSetMap","json","_readJsonSync2","dependencyPool","assign","dependencies","devDpendencies","polypacker","filter","replace","source","key","_readJsonSync","cssLoaders","html","css","less","scss","sass","woff","query","tff","svg","png","eot","jpg","common-asset","web-asset","general-asset","_configBuilder","_configBuilder2","_autoLoader2","_autoLoader3","parse","argstring","_parser$parseKnownArg","parser","parseKnownArgs","trim","split","_parser$parseKnownArg2","_slicedToArray","config","unknown","_presets2","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","push","TypeError","_parserFromArgumentMap","_parserFromArgumentMap2","_argumentMap","_argumentMap2","_presets","addArgumentMapToParser","argAliases","unshift","addArgument","parserFromArgumentMap","_argparse","ArgumentParser","argumentDefault","version","addHelp","description","fromSrcDir","defaultContextualComponent","handleIndexTemplate","_fs2","lstatSync","mkdir","createReadStream","__dirname","pipe","createWriteStream","NODE_COMPONENT","_utils","BROWSER_COMPONENT","FULLSTACK_COMPONENT","NODE_APPLICATION","FULLSTACK_APPLICATION","_fs","_interopRequireWildcard","newObj","metaArgs","conf","presetMap","_presetMap","taskManager","configBuilder","_webpacker","enumerable","get","_taskManager2","_logging","_webpacker2","_taskManager3","_argparser","_argparser2","_asyncToGenerator","fn","gen","this","Promise","resolve","reject","step","arg","info","error","then","endWatch","watcher","close","watching","count","exit","polypack","configuration","_webpack2","polywatch","onBuild","callback","_","results","compileForAllConfigurations","configurations","waiting","rejection","setTimeout","Error","watchAllConfigurations","contextWatchActions","chain","_len","fns","_key","ref","regeneratorRuntime","mark","_callee2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_args2","wrap","_context2","prev","t0","finish","stop","_x4","runTask","_ref5","_ref5$config","_ref5$callback","tasks","runSelectedContext","_callee","_context","_nodemon2","execMap","js","script","_path2","join","PWD","ignore","ext","on","_x2","_x3","_webpack","_path","_nodemon","_death","_death2","NODE","restart","dist","watch-and-run","signal","_defineProperty","configurable","writable","webpackConfig","_ref$env","_ref$babelPresets","babelPresets","_ref$plugins","plugins","polypackMeta","_ref$overrides","overrides","chdir","_subConfigBuilders","io","fixed","plugin","pwd","dirname","_modifiers2","_modifiers","modify","modifiers","production","compound_version","externals","request","callbackLoader","mod","debug","HotModuleReplacementPlugin","optimize","UglifyJsPlugin","_toConsumableArray","arr2","from","babelLoader","presets","exclude","noParse","DefinePlugin","$ES","CONTEXT","JSON","stringify","ENV","OccurenceOrderPlugin","NoErrorsPlugin","BROWSER","output","libraryTarget","path","filename","basename","devtool","cache","node","__filename","_webpackNodeExternals2","fallback","moduleDirectories","extensions","resolveLoader","alias","_ref6","_module","_ref7","_ref7$packagePath","packagePath","_webpackNodeExternals","_autoLoader"],"mappings":"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","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(16);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.sign = sign;\n\tvar identity = Symbol('polypacker');\n\t\n\tvar derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction compound(_ref) {\n\t    var context = _ref.context;\n\t    var env = _ref.env;\n\t\n\t    return context && env ? context.toLowerCase() + '_' + env.toLowerCase() : 'index';\n\t}\n\t\n\tfunction sign() {\n\t    var obj = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t    var entry = obj.entry;\n\t    var out = obj.out;\n\t    var hot = obj.hot;\n\t    var context = obj.context;\n\t    var _obj$env = obj.env;\n\t    var env = _obj$env === undefined ? derivedEnv : _obj$env;\n\t\n\t    obj[identity] = {\n\t        signature: compound({ context: context, env: env }),\n\t        entry: entry, out: out, hot: hot\n\t    };\n\t    return obj;\n\t}\n\t\n\texports.default = identity;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack\");\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers';\n\tvar argumentMap = {\n\t    entry: {\n\t        help: 'main entry point for your program, across all contexts'\n\t    },\n\t    out: {\n\t        help: 'destination for compiled bundle'\n\t    },\n\t    modules: {\n\t        help: 'where to look for modules'\n\t    },\n\t    watch: {\n\t        help: 'monitor source files for changes and recompile.',\n\t        action: 'storeTrue'\n\t    },\n\t    hot: {\n\t        help: 'enable hot module replacement',\n\t        action: 'storeTrue'\n\t    },\n\t    run: {\n\t        help: 'Which context to run on compilation, if any'\n\t    },\n\t    env: {\n\t        aliases: ['-e', '--environment'],\n\t        dest: 'environments',\n\t        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    context: {\n\t        aliases: ['-c'],\n\t        dest: 'contexts',\n\t        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    preset: {\n\t        help: '\\\n\t            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n\t            entry: ./src/entry.js\\\n\t            contexts: [NODE, BROWSER]\\\n\t            environments: [DEVELOPMENT, PRODUCTION]\\\n\t            out: ./dist/for/$context_$env.js\\\n\t        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.'\n\t    },\n\t    babelPreset: {\n\t        dest: 'babelPresets',\n\t        defaultValue: [],\n\t        help: 'add a preset to the babel loader, between es2015 and stage-0',\n\t        action: 'append'\n\t    },\n\t    logLevel: {\n\t        defaultValue: 'ERROR',\n\t        help: 'VERBOSE will output webpack stats and warnings'\n\t    }\n\t};\n\texports.default = argumentMap;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _parser = __webpack_require__(12);\n\t\n\tvar _parser2 = _interopRequireDefault(_parser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _parser2.default;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\texports.clone = clone;\n\texports.selectTask = selectTask;\n\texports.taskWrapper = taskWrapper;\n\texports.flatten = flatten;\n\texports.splitByContext = splitByContext;\n\texports.splitByEnv = splitByEnv;\n\tfunction clone(obj) {\n\t    if (null == obj || \"object\" != (typeof obj === 'undefined' ? 'undefined' : _typeof(obj))) return obj;\n\t    var copy = obj.constructor() || {};\n\t    for (var attr in obj) {\n\t        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t    }\n\t    return copy;\n\t}\n\t\n\tfunction selectTask(_ref) {\n\t    var watch = _ref.watch;\n\t    var run = _ref.run;\n\t\n\t    if (watch && run) {\n\t        return 'watch-and-run';\n\t    } else if (watch) {\n\t        return 'watch';\n\t    } else if (run) {\n\t        return 'run';\n\t    } else {\n\t        return 'dist';\n\t    }\n\t}\n\t\n\tfunction taskWrapper(compilers, task, meta) {\n\t    return {\n\t        task: task || 'dist',\n\t        compilers: compilers,\n\t        meta: meta || { logLevel: compilers[0].logLevel || 'ERROR' }\n\t    };\n\t}\n\t\n\tfunction flatten(arrays) {\n\t    return [].concat.apply([], arrays);\n\t}\n\t\n\tfunction splitByContext(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByContext));\n\t    }\n\t    var contexts = args.contexts;\n\t    delete args.contexts;\n\t    return contexts ? contexts.map(function (context) {\n\t        var contextArgs = clone(args);\n\t        contextArgs.context = context;\n\t        return contextArgs;\n\t    }) : [args];\n\t}\n\t\n\tfunction splitByEnv(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByEnv));\n\t    }\n\t    var envs = args.environments;\n\t    delete args.environments;\n\t    return envs ? envs.map(function (env) {\n\t        var envArgs = clone(args);\n\t        envArgs.env = env;\n\t        return envArgs;\n\t    }) : [args];\n\t}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.log = log;\n\texports.pad = pad;\n\texports.shortTimestamp = shortTimestamp;\n\texports.prefix = prefix;\n\texports.importantLog = importantLog;\n\texports.logImportantFromToAction = logImportantFromToAction;\n\texports.logCompilation = logCompilation;\n\t\n\tvar _colors = __webpack_require__(11);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction log(str) {\n\t    console.log(str);\n\t}\n\t\n\tfunction pad(num) {\n\t    return (\"0\" + num).slice(-2);\n\t}\n\t\n\tfunction shortTimestamp() {\n\t    var d = new Date();\n\t    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds());\n\t}\n\t\n\tfunction upperFirst(str) {\n\t    return typeof str != \"undefined\" ? (str += '', str[0].toUpperCase() + str.substr(1)) : '';\n\t}\n\t\n\tfunction prefix() {\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref$color = _ref.color;\n\t    var color = _ref$color === undefined ? 'magenta' : _ref$color;\n\t\n\t    return _colors2.default[color]('[' + shortTimestamp() + '] ') + _colors2.default['bg' + upperFirst(color)](' ');\n\t}\n\t\n\tfunction importantLog(str) {\n\t    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    var _ref2$color = _ref2.color;\n\t    var color = _ref2$color === undefined ? 'magenta' : _ref2$color;\n\t\n\t    log(prefix({ color: color }) + \" \" + _colors2.default.bold(str));\n\t}\n\t\n\tfunction logImportantFromToAction(acting, _ref3) {\n\t    var _ref3$identity = _ref3[_identity2.default];\n\t    var entry = _ref3$identity.entry;\n\t    var out = _ref3$identity.out;\n\t    var color = arguments.length <= 2 || arguments[2] === undefined ? 'cyan' : arguments[2];\n\t\n\t    importantLog(acting + ' from \\'' + _colors2.default[color](entry) + '\\' to \\'' + _colors2.default[color](out) + '\\'');\n\t}\n\t\n\tfunction logCompilation(err, stats, _ref4) {\n\t    var logLevel = _ref4.logLevel;\n\t    var signature = _ref4.signature;\n\t\n\t    var status = 'success';\n\t    if (err) {\n\t        importantLog(_colors2.default.red('Errors while building ' + signature + '!'), { color: 'red' });\n\t        log('Error', err);\n\t        status = 'error';\n\t    } else if (stats.hasErrors()) {\n\t        importantLog(_colors2.default.red('Errors while building ' + signature + '!'), { color: 'red' });\n\t        log(stats.toString({ colors: true, errorDetails: true }));\n\t        status = 'error';\n\t    } else {\n\t        importantLog('successfully built ' + _colors2.default.cyan(signature));\n\t    }\n\t    if (logLevel == 'VERBOSE') {\n\t        log(stats.toString({ colors: true }));\n\t    }\n\t    return {\n\t        compiler: signature,\n\t        status: status\n\t    };\n\t}\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.expandSimpleLoaderMap = expandSimpleLoaderMap;\n\texports.default = autoLoader;\n\t\n\tvar _readJsonSync = __webpack_require__(24);\n\t\n\tvar _readJsonSync2 = _interopRequireDefault(_readJsonSync);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction simpleTemplate(_ref) {\n\t    var name = _ref.name;\n\t\n\t    var data = _objectWithoutProperties(_ref, ['name']);\n\t\n\t    return _extends({\n\t        test: new RegExp('.' + name + '$', 'g') }, data);\n\t}\n\t\n\tfunction expandLoaderData(data) {\n\t    return typeof data == 'string' ? { loader: data } : Array.isArray(data) ? { loaders: data } : data;\n\t}\n\t\n\tfunction expandSimpleLoaderMap(map) {\n\t    return Object.keys(map).reduce(function (newMap, name) {\n\t        var data = map[name];\n\t        newMap[name] = simpleTemplate(_extends({ name: name }, expandLoaderData(map[name])));\n\t        return newMap;\n\t    }, {});\n\t}\n\t\n\tvar cssLoaders = ['style-loader', 'css-loader', 'postcss-loader'];\n\tvar defaultLoaderMap = Object.assign(expandSimpleLoaderMap({\n\t    json: 'json-loader',\n\t    html: 'html-loader',\n\t    css: cssLoaders,\n\t    less: [].concat(cssLoaders, ['less-loader']),\n\t    scss: ['sass-loader'],\n\t    sass: ['sass-loader']\n\t}), {\n\t    woff: {\n\t        test: /\\.woff(2)?(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/font-woff\"\n\t    },\n\t    tff: {\n\t        test: /\\.ttf(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/octet-stream\"\n\t    },\n\t    svg: {\n\t        test: /\\.svg(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=image/svg+xml\"\n\t    },\n\t    png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n\t    eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n\t    jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n\t});\n\t\n\tvar defaultLoaderSetMap = {\n\t    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n\t    'web-asset': ['common-asset', 'json', 'html', 'css'],\n\t    'general-asset': ['web-asset', 'scss', 'less', 'sass', 'scss']\n\t};\n\tfunction buildExpander(loaderSetMap) {\n\t    return function expandLoader(loaders, explicit) {\n\t        loaderSetMap[explicit] ? loaderSetMap[explicit].forEach(function (name) {\n\t            return loaders = expandLoader(loaders, name);\n\t        }) : loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true;\n\t        return loaders;\n\t    };\n\t}\n\t\n\tfunction expandExplicitLoaders(explicitLoaders, loaderSetMap) {\n\t    return explicitLoaders.reduce(buildExpander(loaderSetMap), {});\n\t}\n\t\n\tfunction autoLoader() {\n\t    var _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref2$jsonPath = _ref2.jsonPath;\n\t    var jsonPath = _ref2$jsonPath === undefined ? './package.json' : _ref2$jsonPath;\n\t    var _ref2$loaderMap = _ref2.loaderMap;\n\t    var loaderMap = _ref2$loaderMap === undefined ? defaultLoaderMap : _ref2$loaderMap;\n\t    var _ref2$loaderSetMap = _ref2.loaderSetMap;\n\t    var loaderSetMap = _ref2$loaderSetMap === undefined ? defaultLoaderSetMap : _ref2$loaderSetMap;\n\t\n\t    var json = (0, _readJsonSync2.default)(jsonPath);\n\t\n\t    var dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies, expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap));\n\t    return Object.keys(dependencyPool).filter(function (name) {\n\t        return name.endsWith('-loader');\n\t    }).map(function (name) {\n\t        return name.replace(/-loader$/, '');\n\t    }).map(function (name) {\n\t        return loaderMap[name];\n\t    }).filter(function (name) {\n\t        return name;\n\t    });\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.autoLoader = exports.default = undefined;\n\t\n\tvar _configBuilder = __webpack_require__(18);\n\t\n\tvar _configBuilder2 = _interopRequireDefault(_configBuilder);\n\t\n\tvar _autoLoader2 = __webpack_require__(9);\n\t\n\tvar _autoLoader3 = _interopRequireDefault(_autoLoader2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _configBuilder2.default;\n\texports.autoLoader = _autoLoader3.default;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"colors\");\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.default = parse;\n\t\n\tvar _parserFromArgumentMap = __webpack_require__(13);\n\t\n\tvar _parserFromArgumentMap2 = _interopRequireDefault(_parserFromArgumentMap);\n\t\n\tvar _argumentMap = __webpack_require__(5);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tvar _presets = __webpack_require__(15);\n\t\n\tvar _presets2 = _interopRequireDefault(_presets);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar parser = (0, _parserFromArgumentMap2.default)(_argumentMap2.default);\n\t\n\tfunction parse(argstring) {\n\t    var _parser$parseKnownArg = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/));\n\t\n\t    var _parser$parseKnownArg2 = _slicedToArray(_parser$parseKnownArg, 2);\n\t\n\t    var config = _parser$parseKnownArg2[0];\n\t    var unknown = _parser$parseKnownArg2[1];\n\t\n\t    return {\n\t        config: (0, _presets2.default)(config),\n\t        unknown: unknown\n\t    };\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.addArgumentMapToParser = addArgumentMapToParser;\n\texports.default = parserFromArgumentMap;\n\t\n\tvar _argparse = __webpack_require__(21);\n\t\n\tvar _argumentMap = __webpack_require__(5);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction addArgumentMapToParser(parser, argumentMap) {\n\t    for (var key in argumentMap) {\n\t        if (argumentMap.hasOwnProperty(key)) {\n\t            var argAliases = argumentMap[key].aliases || [];\n\t            argAliases.unshift('--' + key);\n\t            parser.addArgument(argAliases, argumentMap[key]);\n\t        }\n\t    }\n\t    return parser;\n\t}\n\t\n\tfunction parserFromArgumentMap(argumentMap) {\n\t    var parser = new _argparse.ArgumentParser({\n\t        argumentDefault: undefined,\n\t        version: '0.0.1',\n\t        addHelp: true,\n\t        description: 'context-driven js distribution tool for multiple environments'\n\t    });\n\t    return addArgumentMapToParser(parser, argumentMap);\n\t}\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.NODE_COMPONENT = NODE_COMPONENT;\n\texports.BROWSER_COMPONENT = BROWSER_COMPONENT;\n\texports.FULLSTACK_COMPONENT = FULLSTACK_COMPONENT;\n\texports.NODE_APPLICATION = NODE_APPLICATION;\n\texports.FULLSTACK_APPLICATION = FULLSTACK_APPLICATION;\n\t\n\tvar _fs = __webpack_require__(3);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _utils = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction fromSrcDir(args) {\n\t    args.entry = args.entry || './src/index.js';\n\t    args.modules = args.modules || './src';\n\t    return args;\n\t}\n\t\n\tfunction defaultContextualComponent(args) {\n\t    args = fromSrcDir(args);\n\t    args.out = args.out || args.context && './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js';\n\t    return args;\n\t}\n\t\n\tfunction handleIndexTemplate() {\n\t    try {\n\t        _fs2.default.lstatSync('./dist/index.js');\n\t    } catch (err) {\n\t        _fs2.default.mkdir('./dist');\n\t        _fs2.default.createReadStream(__dirname + '/templates/fullstackComponentIndex.js').pipe(_fs2.default.createWriteStream('./dist/index.js'));\n\t    }\n\t}\n\t\n\tfunction NODE_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction BROWSER_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction FULLSTACK_COMPONENT(args) {\n\t    handleIndexTemplate(); // TODO: this and splitByContext don't handle args.out like they should\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    args.environments = ['DEVELOPMENT', 'PRODUCTION'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    var compilers = (0, _utils.splitByEnv)(contexts).map(defaultContextualComponent);\n\t    return (0, _utils.taskWrapper)(compilers, args.watch ? 'watch' : 'dist');\n\t}\n\t\n\tfunction NODE_APPLICATION(args) {\n\t    args.context = 'NODE';\n\t    delete args.contexts;\n\t    args.out = args.out || './dist/index.js';\n\t    args.run = true;\n\t    args = defaultContextualComponent(args);\n\t    args = (0, _utils.splitByEnv)(args);\n\t    return (0, _utils.taskWrapper)(args, args.watch ? 'watch-and-run' : 'run');\n\t}\n\t\n\tfunction FULLSTACK_APPLICATION(args) {\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    for (i = 0; i < contexts.length; i++) {\n\t        contexts[i] = defaultContextualComponent(contexts[i]);\n\t        contexts[i].run = contexts[i].context == 'NODE';\n\t    }\n\t    return (0, _utils.taskWrapper)(contexts, args.watch ? 'watch-and-run' : 'run');\n\t}\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = apply;\n\t\n\tvar _presetMap = __webpack_require__(14);\n\t\n\tvar presetMap = _interopRequireWildcard(_presetMap);\n\t\n\tvar _utils = __webpack_require__(7);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction metaArgs(conf) {\n\t    return { logLevel: conf.logLevel };\n\t}\n\t\n\tfunction apply(args) {\n\t    var preset = args.preset;\n\t    delete args.preset;\n\t    if (preset && presetMap[preset]) {\n\t        return presetMap[preset](args);\n\t    } else {\n\t        var contexts = (0, _utils.splitByContext)(args);\n\t        var compilers = (0, _utils.splitByEnv)(contexts);\n\t        return (0, _utils.taskWrapper)(compilers, (0, _utils.selectTask)(args), metaArgs(args));\n\t    }\n\t}\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.logCompilation = exports.parser = exports.run = exports.taskManager = exports.autoLoader = exports.configBuilder = undefined;\n\t\n\tvar _webpacker = __webpack_require__(10);\n\t\n\tObject.defineProperty(exports, 'autoLoader', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _webpacker.autoLoader;\n\t  }\n\t});\n\t\n\tvar _taskManager2 = __webpack_require__(17);\n\t\n\tObject.defineProperty(exports, 'run', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _taskManager2.run;\n\t  }\n\t});\n\t\n\tvar _logging = __webpack_require__(8);\n\t\n\tObject.defineProperty(exports, 'logCompilation', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _logging.logCompilation;\n\t  }\n\t});\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _taskManager3 = _interopRequireDefault(_taskManager2);\n\t\n\tvar _argparser = __webpack_require__(6);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.configBuilder = _webpacker2.default;\n\texports.taskManager = _taskManager3.default;\n\texports.parser = _argparser2.default;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar runSelectedContext = function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(configurations, _ref3) {\n\t        var unknown = _ref3.unknown;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t            while (1) {\n\t                switch (_context.prev = _context.next) {\n\t                    case 0:\n\t                        configurations.map(function (configuration) {\n\t                            if (configuration.run) {\n\t                                (0, _logging.importantLog)(\"runnning \" + _colors2.default.cyan(configuration.context) + \" context from \" + _colors2.default.cyan(configuration.out));\n\t                                (0, _nodemon2.default)({\n\t                                    execMap: { js: 'node' },\n\t                                    script: _path2.default.join(process.env.PWD, configuration.out),\n\t                                    args: unknown,\n\t                                    ignore: ['*'],\n\t                                    watch: ['nothing/'],\n\t                                    ext: 'noop'\n\t                                }).on('restart', function () {\n\t                                    (0, _logging.importantLog)('Patched!');\n\t                                }).on('quit', function () {\n\t                                    (0, _logging.importantLog)(_colors2.default.cyan(configuration.context) + \" process quit\");\n\t                                });\n\t                            }\n\t                        });\n\t\n\t                    case 1:\n\t                    case 'end':\n\t                        return _context.stop();\n\t                }\n\t            }\n\t        }, _callee, this);\n\t    }));\n\t\n\t    return function runSelectedContext(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t    };\n\t}();\n\t\n\texports.run = run;\n\texports.default = runTask;\n\t\n\tvar _colors = __webpack_require__(11);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _webpack = __webpack_require__(2);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _path = __webpack_require__(4);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _nodemon = __webpack_require__(23);\n\t\n\tvar _nodemon2 = _interopRequireDefault(_nodemon);\n\t\n\tvar _death = __webpack_require__(22);\n\t\n\tvar _death2 = _interopRequireDefault(_death);\n\t\n\tvar _webpacker = __webpack_require__(10);\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _argparser = __webpack_require__(6);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _logging = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tvar watching = {\n\t    count: 0,\n\t    compilers: []\n\t};\n\t\n\tvar polywatch = Symbol(polywatch);\n\t\n\tfunction endWatch(watcher) {\n\t    watcher.close(function () {\n\t        (0, _logging.logImportantFromToAction)(\"stopped compiling\", watcher, 'magenta');\n\t        watching.count -= 1;\n\t        if (!watching.count) {\n\t            (0, _logging.importantLog)('all watchers stopped. Polypacker exited cleanly');\n\t            process.exit(0);\n\t        }\n\t    });\n\t}\n\t\n\tfunction polypack(configuration) {\n\t    var compiler = (0, _webpack2.default)((0, _webpacker2.default)(configuration));\n\t    compiler[_identity2.default] = configuration[_identity2.default];\n\t    compiler[polywatch] = function () {\n\t        var watcher = compiler.watch.apply(compiler, arguments);\n\t        watching.count += 1;\n\t        watcher[_identity2.default] = configuration[_identity2.default];\n\t        watching.compilers.push(watcher);\n\t        return watcher;\n\t    };\n\t    return compiler;\n\t}\n\t\n\tfunction onBuild(err, stats, _ref) {\n\t    var logLevel = _ref.logLevel;\n\t    var signature = _ref[_identity2.default].signature;\n\t\n\t    return (0, _logging.logCompilation)(err, stats, { logLevel: logLevel, signature: signature });\n\t}\n\t\n\tfunction run(configuration) {\n\t    var callback = arguments.length <= 1 || arguments[1] === undefined ? function (_) {\n\t        return _;\n\t    } : arguments[1];\n\t\n\t    polypack(configuration).run(function (err, stats) {\n\t        results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t        callback({ results: results });\n\t    });\n\t}\n\t\n\tfunction compileForAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    var rejection = null;\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"distributing\", configuration);\n\t            polypack(configuration).run(function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        if (!rejection) {\n\t            rejection = setTimeout(function (_) {\n\t                if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t            }, 100000);\n\t        }\n\t    });\n\t}\n\t\n\tvar contextWatchActions = {\n\t    NODE: function NODE(_ref2) {\n\t        var watch = _ref2.watch;\n\t        var run = _ref2.run;\n\t        return watch && run && _nodemon2.default.restart();\n\t    }\n\t};\n\t\n\tfunction watchAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"watching and distributing\", configuration);\n\t            polypack(configuration)[polywatch](250, function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                if (contextWatchActions[configuration.context]) {\n\t                    contextWatchActions[configuration.context](configuration);\n\t                }\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        setTimeout(function () {\n\t            if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t        }, 100000);\n\t    });\n\t}\n\t\n\tfunction chain() {\n\t    for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n\t        fns[_key] = arguments[_key];\n\t    }\n\t\n\t    return function () {\n\t        var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t            var _iteratorNormalCompletion,\n\t                _didIteratorError,\n\t                _iteratorError,\n\t                _iterator,\n\t                _step,\n\t                fn,\n\t                _args2 = arguments;\n\t\n\t            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t                while (1) {\n\t                    switch (_context2.prev = _context2.next) {\n\t                        case 0:\n\t                            _iteratorNormalCompletion = true;\n\t                            _didIteratorError = false;\n\t                            _iteratorError = undefined;\n\t                            _context2.prev = 3;\n\t                            _iterator = fns[Symbol.iterator]();\n\t\n\t                        case 5:\n\t                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n\t                                _context2.next = 12;\n\t                                break;\n\t                            }\n\t\n\t                            fn = _step.value;\n\t                            _context2.next = 9;\n\t                            return fn.apply(undefined, _args2);\n\t\n\t                        case 9:\n\t                            _iteratorNormalCompletion = true;\n\t                            _context2.next = 5;\n\t                            break;\n\t\n\t                        case 12:\n\t                            _context2.next = 18;\n\t                            break;\n\t\n\t                        case 14:\n\t                            _context2.prev = 14;\n\t                            _context2.t0 = _context2['catch'](3);\n\t                            _didIteratorError = true;\n\t                            _iteratorError = _context2.t0;\n\t\n\t                        case 18:\n\t                            _context2.prev = 18;\n\t                            _context2.prev = 19;\n\t\n\t                            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                                _iterator.return();\n\t                            }\n\t\n\t                        case 21:\n\t                            _context2.prev = 21;\n\t\n\t                            if (!_didIteratorError) {\n\t                                _context2.next = 24;\n\t                                break;\n\t                            }\n\t\n\t                            throw _iteratorError;\n\t\n\t                        case 24:\n\t                            return _context2.finish(21);\n\t\n\t                        case 25:\n\t                            return _context2.finish(18);\n\t\n\t                        case 26:\n\t                        case 'end':\n\t                            return _context2.stop();\n\t                    }\n\t                }\n\t            }, _callee2, this, [[3, 14, 18, 26], [19,, 21, 25]]);\n\t        }));\n\t\n\t        return function (_x4) {\n\t            return ref.apply(this, arguments);\n\t        };\n\t    }();\n\t}\n\t\n\tvar tasks = {\n\t    'dist': chain(compileForAllConfigurations, exit),\n\t    'watch': watchAllConfigurations,\n\t    'run': chain(compileForAllConfigurations, runSelectedContext),\n\t    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n\t};\n\t\n\tfunction exit() {\n\t    var _ref4 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var err = _ref4.err;\n\t\n\t    if (err) {\n\t        console.log(err);\n\t        throw err;\n\t    }\n\t    if (watching.count) {\n\t        (0, _logging.log)('\\n');\n\t        (0, _logging.importantLog)('stopping watchers.');\n\t        watching.compilers.map(endWatch);\n\t    } else {\n\t        (0, _logging.importantLog)('Polypacker exited cleanly.');\n\t        process.exit(0);\n\t    }\n\t}\n\t\n\tfunction runTask(_ref5) {\n\t    var _ref5$config = _ref5.config;\n\t    var compilers = _ref5$config.compilers;\n\t    var task = _ref5$config.task;\n\t    var unknown = _ref5.unknown;\n\t    var _ref5$callback = _ref5.callback;\n\t    var callback = _ref5$callback === undefined ? function (_) {\n\t        return _;\n\t    } : _ref5$callback;\n\t\n\t    return tasks[task](compilers.map(_identity.sign), { unknown: unknown }).then(callback).catch(function (err) {\n\t        return exit({ err: err });\n\t    });\n\t}\n\t\n\t(0, _death2.default)(function (signal, err) {\n\t    return exit({ err: err });\n\t});\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = webpackConfig;\n\t\n\tvar _fs = __webpack_require__(3);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(4);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(2);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _modifiers = __webpack_require__(19);\n\t\n\tvar _modifiers2 = _interopRequireDefault(_modifiers);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _subConfigBuilders = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction webpackConfig(_ref) {\n\t    var entry = _ref.entry;\n\t    var out = _ref.out;\n\t    var hot = _ref.hot;\n\t    var modules = _ref.modules;\n\t    var context = _ref.context;\n\t    var _ref$env = _ref.env;\n\t    var env = _ref$env === undefined ? derivedEnv : _ref$env;\n\t    var _ref$babelPresets = _ref.babelPresets;\n\t    var babelPresets = _ref$babelPresets === undefined ? [] : _ref$babelPresets;\n\t    var _ref$plugins = _ref.plugins;\n\t    var plugins = _ref$plugins === undefined ? [] : _ref$plugins;\n\t    var polypackMeta = _ref[_identity2.default];\n\t    var _ref$overrides = _ref.overrides;\n\t    var overrides = _ref$overrides === undefined ? {} : _ref$overrides;\n\t\n\t    process.chdir(process.env.PWD);\n\t    var config = Object.assign(polypackMeta ? _defineProperty({}, _identity2.default, polypackMeta) : (0, _identity.sign)({ entry: entry, out: out, hot: hot, context: context, env: env }), (0, _subConfigBuilders.io)({ entry: entry, out: out }), (0, _subConfigBuilders.target)({ context: context }), (0, _subConfigBuilders.fixed)(), (0, _subConfigBuilders.plugin)({ env: env, context: context, plugins: plugins }), (0, _subConfigBuilders.resolve)({ pwd: './', modules: modules, dirname: _path2.default.join(__dirname, '..') }), (0, _subConfigBuilders.module)({ babelPresets: babelPresets }), overrides);\n\t    return (0, _modifiers2.default)({ config: config, env: env, hot: hot });\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = modify;\n\t\n\tvar _webpack = __webpack_require__(2);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar modifiers = {\n\t    polypack: function polypack(config) {\n\t        var compound_version = config[_identity2.default].signature;\n\t        if (config.target == 'node') {\n\t            config.externals.push(function (context, request, callback) {\n\t                if (/^polypack!/.test(request)) {\n\t                    return callback(null, request.substr(9) + '/dist/for/' + compound_version);\n\t                }\n\t                callback();\n\t            });\n\t        }\n\t        config.callbackLoader = {\n\t            polypack: function polypack(mod) {\n\t                return mod ? 'require(\"' + mod + '/dist/for/' + compound_version + '\") //polypacked by dist' : 'require(\"./for/' + compound_version + '\") //polypacked by dist';\n\t            }\n\t        };\n\t        return config;\n\t    },\n\t    hot: function hot(config) {\n\t        config.debug = true;\n\t        config.plugins.unshift(new _webpack2.default.HotModuleReplacementPlugin());\n\t        config.entry.unshift('webpack-hot-middleware/client');\n\t        return config;\n\t    },\n\t    production: function production(config) {\n\t        config.plugins.push(new _webpack2.default.optimize.UglifyJsPlugin());\n\t        return config;\n\t    }\n\t};\n\t\n\tfunction modify(_ref) {\n\t    var config = _ref.config;\n\t    var env = _ref.env;\n\t    var hot = _ref.hot;\n\t\n\t    config = modifiers.polypack(config);\n\t    if (env.toLowerCase() == 'production') config = modifiers.production(config);\n\t    if (hot) config = modifiers.hot(config);\n\t    return config;\n\t}\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.module = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.plugin = plugin;\n\texports.target = target;\n\texports.output = output;\n\texports.fixed = fixed;\n\texports.resolve = resolve;\n\texports.output = output;\n\texports.io = io;\n\t\n\tvar _fs = __webpack_require__(3);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(4);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(2);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _webpackNodeExternals = __webpack_require__(25);\n\t\n\tvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\t\n\tvar _autoLoader = __webpack_require__(9);\n\t\n\tvar _autoLoader2 = _interopRequireDefault(_autoLoader);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction babelLoader(_ref) {\n\t    var babelPresets = _ref.babelPresets;\n\t\n\t    babelPresets.unshift('es2015');\n\t    babelPresets.push('stage-0');\n\t    return {\n\t        test: /\\.js|\\.jsx$/,\n\t        loader: 'babel',\n\t        query: {\n\t            presets: babelPresets.map(function (preset) {\n\t                return 'babel-preset-' + preset;\n\t            })\n\t        },\n\t        exclude: /node_modules/,\n\t        noParse: /\\.min\\.js/\n\t    };\n\t}\n\t\n\tfunction plugin(_ref2) {\n\t    var env = _ref2.env;\n\t    var context = _ref2.context;\n\t    var plugins = _ref2.plugins;\n\t\n\t    return {\n\t        plugins: [new _webpack2.default.DefinePlugin({\n\t            $ES: {\n\t                CONTEXT: JSON.stringify(context || 'NODE'),\n\t                ENV: JSON.stringify(env)\n\t            }\n\t        })].concat(_toConsumableArray(plugins), [\n\t        //new webpack.optimize.DedupePlugin(),\n\t        new _webpack2.default.optimize.OccurenceOrderPlugin(), new _webpack2.default.NoErrorsPlugin()])\n\t    };\n\t}\n\t\n\tfunction target(_ref3) {\n\t    var context = _ref3.context;\n\t\n\t    return {\n\t        target: {\n\t            NODE: 'node',\n\t            BROWSER: 'web'\n\t        }[context]\n\t    };\n\t}\n\t\n\tfunction output(out) {\n\t    return {\n\t        libraryTarget: \"commonjs2\",\n\t        path: _path2.default.dirname(out),\n\t        filename: _path2.default.basename(out)\n\t    };\n\t}\n\t\n\tfunction fixed() {\n\t    return {\n\t        devtool: 'source-map',\n\t        cache: false,\n\t        node: {\n\t            __dirname: false,\n\t            __filename: false\n\t        },\n\t        externals: [(0, _webpackNodeExternals2.default)()]\n\t    };\n\t}\n\t\n\tfunction resolve(_ref4) {\n\t    var pwd = _ref4.pwd;\n\t    var modules = _ref4.modules;\n\t    var dirname = _ref4.dirname;\n\t\n\t    var fallback = [_path2.default.join(dirname, \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules/polypacker/node_modules\")];\n\t    return {\n\t        context: _path2.default.resolve(pwd),\n\t        resolve: {\n\t            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n\t            extensions: ['', '.json', '.js', '.jsx'],\n\t            fallback: fallback\n\t        },\n\t        resolveLoader: {\n\t            moduleDirectories: [\"node_modules\", \"node_modules/polypacker/node_modules\"],\n\t            fallback: fallback,\n\t            alias: { polypack: 'callback?polypack' }\n\t        }\n\t    };\n\t}\n\t\n\tfunction output(_ref5) {\n\t    var out = _ref5.out;\n\t\n\t    return {\n\t        output: {\n\t            libraryTarget: \"commonjs2\",\n\t            path: _path2.default.dirname(out),\n\t            filename: _path2.default.basename(out)\n\t        }\n\t    };\n\t}\n\t\n\tfunction io(_ref6) {\n\t    var entry = _ref6.entry;\n\t    var out = _ref6.out;\n\t\n\t    return _extends({ entry: [entry] }, output({ out: out }));\n\t}\n\t\n\tfunction _module(_ref7) {\n\t    var babelPresets = _ref7.babelPresets;\n\t    var _ref7$packagePath = _ref7.packagePath;\n\t    var packagePath = _ref7$packagePath === undefined ? './package.json' : _ref7$packagePath;\n\t\n\t    return {\n\t        module: {\n\t            loaders: [babelLoader({ babelPresets: babelPresets })].concat(_toConsumableArray((0, _autoLoader2.default)({ jsonPath: _path2.default.resolve(packagePath) })))\n\t        }\n\t    };\n\t}\n\texports.module = _module;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"argparse\");\n\n/***/ },\n/* 22 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"death\");\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodemon\");\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"read-json-sync\");\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack-node-externals\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c6f42c8685b3e24a389d\n **/","const identity = Symbol('polypacker')\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nfunction compound({context, env}){\n    return (context && env) ? context.toLowerCase() + '_' + env.toLowerCase() : 'index'\n}\n\nexport function sign(obj = {}){\n    let { entry, out, hot, context, env = derivedEnv } = obj\n    obj[identity] = {\n        signature: compound({context, env}),\n        entry, out, hot\n    }\n    return obj\n}\n\nexport default identity\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/identity.js\n **/","module.exports = require(\"webpack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack\"\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 3\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 4\n ** module chunks = 0\n **/","let attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers'\nconst argumentMap = {\n    entry: {\n        help: 'main entry point for your program, across all contexts'\n    },\n    out: {\n        help: 'destination for compiled bundle'\n    },\n    modules: {\n        help: 'where to look for modules'\n    },\n    watch: {\n        help: 'monitor source files for changes and recompile.',\n        action: 'storeTrue'\n    },\n    hot: {\n        help: 'enable hot module replacement',\n        action: 'storeTrue'\n    },\n    run: {\n        help: 'Which context to run on compilation, if any'\n    },\n    env: {\n        aliases: ['-e', '--environment'],\n        dest: 'environments',\n        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    context: {\n        aliases: ['-c'],\n        dest: 'contexts',\n        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    preset: {\n        help: '\\\n            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n            entry: ./src/entry.js\\\n            contexts: [NODE, BROWSER]\\\n            environments: [DEVELOPMENT, PRODUCTION]\\\n            out: ./dist/for/$context_$env.js\\\n        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.',\n    },\n    babelPreset: {\n        dest: 'babelPresets',\n        defaultValue: [],\n        help: 'add a preset to the babel loader, between es2015 and stage-0',\n        action: 'append'\n    },\n    logLevel: {\n        defaultValue: 'ERROR',\n        help: 'VERBOSE will output webpack stats and warnings'\n    }\n}\nexport default argumentMap\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/argumentMap.js\n **/","\nexport function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor() || {}\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n\nexport function selectTask({watch, run}){\n    if(watch && run){\n        return 'watch-and-run'\n    } else if(watch){\n        return 'watch'\n    } else if (run) {\n        return 'run'\n    } else {\n        return 'dist'\n    }\n}\n\nexport function taskWrapper(compilers, task, meta){\n    return {\n        task: task || 'dist', \n        compilers: compilers,\n        meta: meta || {logLevel: compilers[0].logLevel || 'ERROR'}, \n    }\n}\n\nexport function flatten(arrays){\n    return [].concat.apply([], arrays);\n}\n\n\nexport function splitByContext(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByContext))\n    }\n    var contexts = args.contexts\n    delete args.contexts\n    return contexts ? contexts.map(function(context){\n        var contextArgs = clone(args)\n        contextArgs.context = context\n        return contextArgs\n    }) : [args]\n}\n\nexport function splitByEnv(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByEnv))\n    }\n    var envs = args.environments\n    delete args.environments\n    return envs ? envs.map(function(env){\n        var envArgs = clone(args)\n        envArgs.env = env\n        return envArgs\n    }) : [args]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/utils.js\n **/","import colors from 'colors'\nimport identity from './identity'\n\nexport function log(str){\n    console.log(str)\n}\n\nexport function pad(num){\n    return (\"0\"+num).slice(-2);\n}\n\nexport function shortTimestamp(){\n    var d = new Date()\n    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds())\n}\n\nfunction upperFirst (str) {\n    return typeof str !=\"undefined\"  ? (str += '', str[0].toUpperCase() + str.substr(1)) : '' ;\n}\n\nexport function prefix({color = 'magenta'} = {}){\n    return colors[color]('[' + shortTimestamp() + '] ') + colors[`bg${upperFirst(color)}`](' ') \n}\n\nexport function importantLog(str, {color = 'magenta'} = {}){\n  log( prefix({color}) + \" \" + colors.bold(str))\n}\n\nexport function logImportantFromToAction(acting, {[identity]: {entry, out}}, color='cyan'){\n    importantLog(`${acting} from '${colors[color](entry)}' to '${colors[color](out)}'`)\n}\n\nexport function logCompilation(err, stats, {logLevel, signature}) {\n    var status = 'success'\n    if(err) {\n      importantLog(colors.red(`Errors while building ${signature}!`), {color: 'red'})\n      log('Error', err);\n      status = 'error'\n    } else if(stats.hasErrors()) {\n      importantLog(colors.red(`Errors while building ${signature}!`), {color: 'red'})\n      log(stats.toString({colors: true, errorDetails: true}));\n      status = 'error'\n    } else {\n        importantLog('successfully built ' + colors.cyan(signature))\n    }\n    if(logLevel == 'VERBOSE') {\n      log(stats.toString({colors: true}));\n    }\n    return {\n        compiler: signature,\n        status\n    }\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/logging.js\n **/","import readJsonSync from 'read-json-sync'\n\nfunction simpleTemplate({name, ...data}){\n    return {\n        test: new RegExp(`\\.${name}$`,'g'), ...data\n    }\n}\n\nfunction expandLoaderData(data){\n    return (typeof(data) == 'string') ?\n        {loader: data} :\n        Array.isArray(data) ?\n            {loaders: data} :\n            data\n}\n\nexport function expandSimpleLoaderMap(map){\n    return Object.keys(map).reduce((newMap, name) => {\n        let data = map[name]\n        newMap[name] = simpleTemplate({name, ...expandLoaderData(map[name])})\n        return newMap\n    }, {})\n}\n\nconst cssLoaders = [ 'style-loader', 'css-loader', 'postcss-loader' ]\nconst defaultLoaderMap = Object.assign(\n    expandSimpleLoaderMap({\n        json: 'json-loader',\n        html: 'html-loader',\n        css:  cssLoaders,\n        less: [ ...cssLoaders, 'less-loader'   ],\n        scss: [ 'sass-loader'   ],\n        sass: [ 'sass-loader'   ] \n    }), {\n        woff: {\n            test: /\\.woff(2)?(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/font-woff\"\n        },\n        tff: {\n            test: /\\.ttf(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/octet-stream\"\n        },\n        svg: {\n            test: /\\.svg(\\?.+)?$/,\n            loader: \"url-loader\",\n            query:\"?limit=10000&mimetype=image/svg+xml\"\n        },\n        png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n        eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n        jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n    }\n)\n\nconst defaultLoaderSetMap = {\n    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n    'web-asset': ['common-asset', 'json', 'html', 'css'],\n    'general-asset': ['web-asset', 'scss','less', 'sass', 'scss']\n}\nfunction buildExpander(loaderSetMap){\n    return function expandLoader(loaders, explicit){\n        loaderSetMap[explicit] ?\n            loaderSetMap[explicit].forEach(name => loaders = expandLoader(loaders, name)) :\n            loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true\n        return loaders\n    }\n}\n\nfunction expandExplicitLoaders(explicitLoaders, loaderSetMap){\n    return explicitLoaders.reduce(buildExpander(loaderSetMap), {})\n}\n\nexport default function autoLoader({\n    jsonPath = './package.json',\n    loaderMap = defaultLoaderMap,\n    loaderSetMap = defaultLoaderSetMap,\n} = {}){\n    let json = readJsonSync(jsonPath)\n\n    let dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies,\n        expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap))\n    return Object.keys(dependencyPool)\n        .filter(name => name.endsWith('-loader'))\n        .map(name => name.replace(/-loader$/,''))\n        .map(name => loaderMap[name])\n        .filter(name => name)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/autoLoader.js\n **/","export default from './configBuilder'\nexport autoLoader from './autoLoader'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/index.js\n **/","module.exports = require(\"colors\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"colors\"\n ** module id = 11\n ** module chunks = 0\n **/","import parserFromArgumentMap from './parserFromArgumentMap'\nimport argumentMap from './argumentMap'\nimport applyPreset from './presets'\n\nconst parser = parserFromArgumentMap(argumentMap)\n\nexport default function parse(argstring){\n    let [config, unknown] = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/))\n    return {\n        config: applyPreset(config),\n        unknown\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parser.js\n **/","import { ArgumentParser } from 'argparse'\nimport argumentMap from './argumentMap'\n\nexport function addArgumentMapToParser(parser, argumentMap){\n    for (var key in argumentMap) {\n        if (argumentMap.hasOwnProperty(key)) {\n            var argAliases = argumentMap[key].aliases || []\n            argAliases.unshift('--' + key)\n            parser.addArgument(argAliases, argumentMap[key])\n        }\n    }\n    return parser\n}\n\nexport default function parserFromArgumentMap(argumentMap){\n    var parser = new ArgumentParser({\n        argumentDefault: undefined,\n        version: '0.0.1',\n        addHelp: true,\n        description: 'context-driven js distribution tool for multiple environments'\n    })\n    return addArgumentMapToParser(parser, argumentMap)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parserFromArgumentMap.js\n **/","import fs from 'fs'\nimport { taskWrapper, splitByContext, splitByEnv } from './utils'\n\nfunction fromSrcDir(args){\n    args.entry = args.entry || './src/index.js'\n    args.modules = args.modules || './src'\n    return args\n}\n\nfunction defaultContextualComponent(args){\n    args = fromSrcDir(args)\n    args.out = args.out || args.context &&\n        './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js'\n    return args\n}\n\nfunction handleIndexTemplate(){\n    try {\n        fs.lstatSync('./dist/index.js')\n    } catch(err){\n        fs.mkdir('./dist')\n        fs.createReadStream(__dirname + '/templates/fullstackComponentIndex.js')\n            .pipe(fs.createWriteStream('./dist/index.js'))\n    }\n}\n\nexport function NODE_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function BROWSER_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function FULLSTACK_COMPONENT(args){\n    handleIndexTemplate() // TODO: this and splitByContext don't handle args.out like they should\n    args.contexts = ['NODE', 'BROWSER']\n    args.environments = ['DEVELOPMENT', 'PRODUCTION']\n    var contexts = splitByContext(args)\n    var compilers = splitByEnv(contexts).map(defaultContextualComponent)\n    return taskWrapper(compilers, args.watch ? 'watch' : 'dist')\n}\n\nexport function NODE_APPLICATION(args){\n    args.context = 'NODE'\n    delete args.contexts\n    args.out = args.out || './dist/index.js'\n    args.run = true\n    args = defaultContextualComponent(args)\n    args = splitByEnv(args)\n    return taskWrapper(args, args.watch ? 'watch-and-run' : 'run')\n}\n\nexport function FULLSTACK_APPLICATION(args){\n    args.contexts = ['NODE', 'BROWSER']\n    var contexts = splitByContext(args)\n    for (i = 0; i < contexts.length; i++) {\n        contexts[i] = defaultContextualComponent(contexts[i])\n        contexts[i].run = ( contexts[i].context == 'NODE' )\n    }\n    return taskWrapper(contexts, args.watch ? 'watch-and-run' : 'run')\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presetMap.js\n **/","import * as presetMap from './presetMap'\nimport { clone, taskWrapper, selectTask, splitByContext, splitByEnv} from './utils'\n\nfunction metaArgs(conf){\n    return {logLevel: conf.logLevel}\n}\n\nexport default function apply(args){\n    var preset = args.preset\n    delete args.preset\n    if (preset && presetMap[preset]) {\n        return presetMap[preset](args)\n    } else {\n        var contexts = splitByContext(args)\n        var compilers = splitByEnv(contexts)\n        return taskWrapper(compilers, selectTask(args), metaArgs(args))\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presets.js\n **/","export configBuilder, { autoLoader } from './webpacker'\nexport taskManager, { run } from './taskManager'\nexport parser from './argparser'\nexport { logCompilation } from './logging'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import colors from 'colors'\nimport webpack from 'webpack'\nimport path from 'path'\nimport nodemon from 'nodemon'\nimport ON_DEATH from 'death'\n\nimport webpackConfig from './webpacker'\nimport configure from './argparser'\nimport identity, { sign } from './identity'\n\nimport { log, importantLog, logImportantFromToAction, logCompilation } from './logging'\n\nvar watching = {\n    count: 0,\n    compilers: []\n}\n\nconst polywatch = Symbol(polywatch)\n\nfunction endWatch(watcher) {\n    watcher.close(function(){\n        logImportantFromToAction(\"stopped compiling\", watcher, 'magenta')\n        watching.count -= 1\n        if(!watching.count){\n            importantLog('all watchers stopped. Polypacker exited cleanly')\n            process.exit(0)\n        }\n    })\n}\n\nfunction polypack(configuration){\n    let compiler = webpack(webpackConfig(configuration))\n    compiler[identity] = configuration[identity]\n    compiler[polywatch] = (...args) => {\n        let watcher = compiler.watch(...args)\n        watching.count += 1\n        watcher[identity] = configuration[identity]\n        watching.compilers.push(watcher)\n        return watcher\n    }\n    return compiler\n}\n\nfunction onBuild(err, stats, {logLevel, [identity]: {signature}}) {\n    return logCompilation(err, stats, {logLevel, signature})\n}\n\nexport function run(configuration, callback=_=>_){\n    polypack(configuration).run((err, stats) => {\n        results[configuration[identity].signature] = onBuild(err, stats, configuration)\n        callback({results})\n    })\n} \n\nfunction compileForAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    let rejection = null\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"distributing\", configuration)\n            polypack(configuration).run((err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        if(!rejection){\n            rejection = setTimeout(_ => {\n                if(waiting)\n                    reject(new Error(`compiler timed out with the results ${results}`))\n            }, 100000)\n        }\n    })\n}\n\nvar contextWatchActions = {\n    NODE: ({watch, run}) => watch && run && nodemon.restart()\n}\n\nfunction watchAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"watching and distributing\", configuration)\n            polypack(configuration)[polywatch](250, (err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                if(contextWatchActions[configuration.context]){\n                    contextWatchActions[configuration.context](configuration)\n                }\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        setTimeout(() => {\n            if(waiting)\n                reject(new Error(`compiler timed out with the results ${results}`))\n        }, 100000)\n    })\n}\n\nasync function runSelectedContext(configurations, {unknown}){\n  configurations.map(configuration => {\n      if(configuration.run){\n          importantLog(\"runnning \" + colors.cyan(configuration.context) + \" context from \" +  colors.cyan(configuration.out))\n          nodemon({\n              execMap: { js: 'node' },\n              script: path.join(process.env.PWD, configuration.out),\n              args: unknown,\n              ignore: ['*'],\n              watch: ['nothing/'],\n              ext: 'noop'\n          }).on('restart', () => {\n              importantLog('Patched!')\n          }).on('quit', () => {\n              importantLog(colors.cyan(configuration.context) + \" process quit\") \n          })\n      }\n  })\n}\n\nfunction chain(...fns){\n    return async function(...args) {\n        for (let fn of fns){\n            await fn(...args)\n        }\n    }\n}\n\nconst tasks = {\n    'dist': chain(compileForAllConfigurations, exit),\n    'watch': watchAllConfigurations,\n    'run': chain(compileForAllConfigurations, runSelectedContext),\n    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n}\n\nfunction exit({err} = {}){\n    if(err){\n        console.log(err)\n        throw err\n    }\n    if(watching.count){\n        log('\\n')\n        importantLog('stopping watchers.')\n        watching.compilers.map(endWatch)\n    } else {\n        importantLog('Polypacker exited cleanly.')\n        process.exit(0)\n    }\n}\n\nexport default function runTask({config: {compilers, task}, unknown, callback = _=>_}){\n    return tasks[task](compilers.map(sign), {unknown}).then(callback).catch(err => exit({err}))\n}\n\nON_DEATH((signal, err) => exit({err}))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/taskManager.js\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport modify from './modifiers'\nimport identity, { sign } from '../identity'\nimport { io, plugin, resolve, fixed, target, module } from './subConfigBuilders'\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nexport default function webpackConfig({\n    entry, out, hot, modules, context,\n    env=derivedEnv,\n    babelPresets=[],\n    plugins=[],\n    [identity]: polypackMeta,\n    overrides = {}\n}){\n    process.chdir(process.env.PWD)\n    let config = Object.assign(\n        polypackMeta ? {[identity]: polypackMeta} : sign({entry, out, hot, context, env}),\n        io({entry, out}),\n        target({context}),\n        fixed(),\n        plugin({env, context, plugins}),\n        resolve({pwd: './', modules, dirname: path.join(__dirname, '..')}),\n        module({babelPresets}),\n        overrides\n    )\n    return modify({config, env, hot})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/configBuilder.js\n **/","import webpack from 'webpack'\n\nimport polyPackerIdentity from '../identity'\n\nconst modifiers = {\n    polypack: config => {\n        let compound_version = config[polyPackerIdentity].signature\n        if(config.target == 'node'){\n            config.externals.push(\n                (context, request, callback) => {\n                    if(/^polypack!/.test(request)){\n                        return callback(null, `${request.substr(9)}/dist/for/${compound_version}`)\n                    }\n                    callback();\n                }\n            )\n        }\n        config.callbackLoader = {\n            polypack: (mod) => mod ?\n                `require(\"${mod}/dist/for/${compound_version}\") //polypacked by dist` :\n                `require(\"./for/${compound_version}\") //polypacked by dist`\n        }\n        return config\n    },\n    hot: config => {\n        config.debug = true\n        config.plugins.unshift(new webpack.HotModuleReplacementPlugin())\n        config.entry.unshift('webpack-hot-middleware/client')\n        return config\n    },\n    production: config => {\n        config.plugins.push( new webpack.optimize.UglifyJsPlugin() )\n        return config\n    }\n}\n\nexport default function modify({config, env, hot}){\n    config = modifiers.polypack(config)\n    if(env.toLowerCase() == 'production')\n        config = modifiers.production(config);\n    if(hot)\n        config = modifiers.hot(config);\n    return config\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/modifiers.js\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport nodeExternals from 'webpack-node-externals'\nimport autoLoader from './autoLoader'\n\nfunction babelLoader({babelPresets}){\n    babelPresets.unshift('es2015')\n    babelPresets.push('stage-0')\n    return {\n        test: /\\.js|\\.jsx$/,\n        loader: 'babel',\n        query: {\n            presets: babelPresets.map(preset => `babel-preset-${preset}`)\n        },\n        exclude: /node_modules/,\n        noParse: /\\.min\\.js/\n    }\n}\n\nexport function plugin({env, context, plugins}){\n    return {\n        plugins: [\n            new webpack.DefinePlugin({\n                $ES: {\n                    CONTEXT: JSON.stringify(context || 'NODE'),\n                    ENV: JSON.stringify(env)\n                }\n            }),\n            /*new webpack.BannerPlugin(\n                'require(\"source-map-support\").install();',\n                { raw: true, entryOnly: false }\n            ),*/\n            ...plugins,\n            //new webpack.optimize.DedupePlugin(),\n            new webpack.optimize.OccurenceOrderPlugin(),\n            new webpack.NoErrorsPlugin(),\n        ]\n    }\n}\n\nexport function target({context}){\n    return {\n        target: ({\n            NODE: 'node',\n            BROWSER: 'web'\n        })[context]\n    }\n}\n\nexport function output(out){\n    return {\n        libraryTarget: \"commonjs2\",\n        path: path.dirname(out),\n        filename: path.basename(out),\n    }\n}\n\nexport function fixed() {\n    return {\n        devtool: 'source-map',\n        cache: false,\n        node: {\n            __dirname: false,\n            __filename: false\n        },\n        externals: [ nodeExternals() ]\n    }\n}\n\nexport function resolve({pwd, modules, dirname}) {\n    let fallback = [\n        path.join(dirname, \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules/polypacker/node_modules\")\n    ]\n    return {\n        context: path.resolve(pwd),\n        resolve: {\n            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n            extensions: ['', '.json', '.js', '.jsx'],\n            fallback\n        },\n        resolveLoader: {\n            moduleDirectories: [\"node_modules\", \"node_modules/polypacker/node_modules\"],\n            fallback,\n            alias: { polypack: 'callback?polypack' }\n        },\n    }\n}\n\nexport function output({out}){\n    return {\n        output:  {\n            libraryTarget: \"commonjs2\",\n            path: path.dirname(out),\n            filename: path.basename(out),\n        }\n    }\n}\n\nexport function io({entry, out}){\n    return {entry: [ entry ], ...output({out})}\n}\n\nexport function module({babelPresets, packagePath = './package.json'}){\n    return {\n        module: {\n            loaders: [\n                babelLoader({babelPresets}), \n                ...autoLoader({jsonPath: path.resolve(packagePath)}),\n            ]\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/subConfigBuilders.js\n **/","module.exports = require(\"argparse\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"argparse\"\n ** module id = 21\n ** module chunks = 0\n **/","module.exports = require(\"death\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"death\"\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = require(\"nodemon\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"nodemon\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = require(\"read-json-sync\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"read-json-sync\"\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = require(\"webpack-node-externals\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-node-externals\"\n ** module id = 25\n ** module chunks = 0\n **/"],"sourceRoot":""}