{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap a8920a426f5c7893c476","webpack:///./src/identity.js","webpack:///./src/webpacker/autoLoader.js","webpack:///./src/webpacker/index.js","webpack:///external \"webpack\"","webpack:///./src/webpacker/configBuilder.js","webpack:///./src/webpacker/modifiers.js","webpack:///./src/webpacker/subConfigBuilders.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./src/argparser/argumentMap.js","webpack:///./src/argparser/utils.js","webpack:///external \"colors\"","webpack:///external \"webpack-node-externals\"","webpack:///./src/argparser/parser.js","webpack:///./src/argparser/parserFromArgumentMap.js","webpack:///./src/argparser/presetMap.js","webpack:///./src/argparser/presets.js","webpack:///./src/index.js","webpack:///./src/logging.js","webpack:///./src/taskManager.js","webpack:///external \"argparse\"","webpack:///external \"death\"","webpack:///external \"nodemon\"","webpack:///external \"read-json-sync\""],"names":["require","install","module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","compound","_ref","context","env","toLowerCase","sign","obj","arguments","length","undefined","entry","out","hot","_obj$env","derivedEnv","identity","signature","Object","defineProperty","value","Symbol","process","NODE_ENV","toUpperCase","_interopRequireDefault","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","simpleTemplate","name","data","_extends","test","RegExp","expandLoaderData","loader","Array","isArray","loaders","expandSimpleLoaderMap","map","reduce","newMap","buildExpander","loaderSetMap","expandLoader","explicit","forEach","endsWith","expandExplicitLoaders","explicitLoaders","autoLoader","_ref2","_ref2$jsonPath","jsonPath","_ref2$loaderMap","loaderMap","defaultLoaderMap","_ref2$loaderSetMap","defaultLoaderSetMap","json","_readJsonSync2","dependencyPool","assign","dependencies","devDpendencies","polypacker","filter","replace","source","key","_readJsonSync","cssLoaders","html","css","concat","less","scss","sass","woff","query","tff","svg","png","eot","jpg","common-asset","web-asset","general-asset","_configBuilder","_configBuilder2","_autoLoader2","_autoLoader3","_defineProperty","enumerable","configurable","writable","webpackConfig","_ref$env","_ref$babelPresets","babelPresets","_ref$plugins","plugins","polypackMeta","_identity2","_ref$overrides","overrides","chdir","PWD","config","_subConfigBuilders","io","fixed","plugin","resolve","pwd","dirname","_path2","join","__dirname","_modifiers2","_fs","_path","_webpack","_modifiers","_identity","modify","modifiers","polypack","production","_webpackNodeExternals","_webpackNodeExternals2","_webpack2","compound_version","externals","push","request","callback","substr","callbackLoader","_","debug","unshift","HotModuleReplacementPlugin","whitelist","optimize","UglifyJsPlugin","_toConsumableArray","arr","arr2","from","babelLoader","presets","preset","exclude","noParse","DefinePlugin","$ES","CONTEXT","JSON","stringify","ENV","BannerPlugin","raw","entryOnly","DedupePlugin","OccurenceOrderPlugin","NoErrorsPlugin","_ref3","NODE","BROWSER","output","libraryTarget","path","filename","basename","devtool","cache","node","__filename","_ref4","fallback","moduleDirectories","extensions","resolveLoader","_ref5","_ref6","_module","_ref7","_ref7$packagePath","packagePath","_autoLoader","attrHelp","argumentMap","help","watch","action","run","aliases","dest","babelPreset","defaultValue","logLevel","_parser","_parser2","clone","_typeof","copy","constructor","attr","selectTask","taskWrapper","compilers","task","meta","flatten","arrays","apply","splitByContext","args","contexts","contextArgs","splitByEnv","envs","environments","envArgs","iterator","parse","argstring","_parser$parseKnownArg","parser","parseKnownArgs","trim","split","_parser$parseKnownArg2","_slicedToArray","unknown","_presets2","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","err","TypeError","_parserFromArgumentMap","_parserFromArgumentMap2","_argumentMap","_argumentMap2","_presets","addArgumentMapToParser","argAliases","addArgument","parserFromArgumentMap","_argparse","ArgumentParser","argumentDefault","version","addHelp","description","fromSrcDir","defaultContextualComponent","handleIndexTemplate","_fs2","lstatSync","mkdir","createReadStream","pipe","createWriteStream","NODE_COMPONENT","_utils","BROWSER_COMPONENT","FULLSTACK_COMPONENT","NODE_APPLICATION","FULLSTACK_APPLICATION","_interopRequireWildcard","newObj","metaArgs","conf","presetMap","_presetMap","taskManager","configBuilder","_webpacker","get","_taskManager2","_webpacker2","_taskManager3","_argparser","_argparser2","log","str","console","pad","num","slice","shortTimestamp","d","Date","getHours","getMinutes","getSeconds","upperFirst","prefix","_ref$color","color","_colors2","importantLog","_ref2$color","bold","logImportantFromToAction","acting","_ref3$identity","_colors","_asyncToGenerator","fn","gen","this","Promise","reject","step","arg","info","error","then","endWatch","watcher","close","_logging","watching","count","exit","configuration","compiler","polywatch","onBuild","stats","status","red","hasErrors","toString","colors","errorDetails","cyan","results","compileForAllConfigurations","configurations","waiting","rejection","setTimeout","Error","watchAllConfigurations","contextWatchActions","chain","_len","fns","_key","ref","regeneratorRuntime","mark","_callee2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_args2","wrap","_context2","prev","t0","finish","stop","_x4","runTask","_ref4$config","_ref4$callback","tasks","runSelectedContext","_callee","_context","_nodemon2","execMap","js","script","ignore","ext","on","_x2","_x3","_nodemon","_death","_death2","restart","dist","watch-and-run","signal"],"mappings":"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","file":"index.js","sourcesContent":["require(\"source-map-support\").install();\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(19);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.sign = sign;\n\tvar identity = Symbol('polypacker');\n\t\n\tvar derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction compound(_ref) {\n\t    var context = _ref.context;\n\t    var env = _ref.env;\n\t\n\t    return context && env ? context.toLowerCase() + '_' + env.toLowerCase() : 'index';\n\t}\n\t\n\tfunction sign() {\n\t    var obj = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t    var entry = obj.entry;\n\t    var out = obj.out;\n\t    var hot = obj.hot;\n\t    var context = obj.context;\n\t    var _obj$env = obj.env;\n\t    var env = _obj$env === undefined ? derivedEnv : _obj$env;\n\t\n\t    obj[identity] = {\n\t        signature: compound({ context: context, env: env }),\n\t        entry: entry, out: out, hot: hot\n\t    };\n\t    return obj;\n\t}\n\t\n\texports.default = identity;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.expandSimpleLoaderMap = expandSimpleLoaderMap;\n\texports.default = autoLoader;\n\t\n\tvar _readJsonSync = __webpack_require__(26);\n\t\n\tvar _readJsonSync2 = _interopRequireDefault(_readJsonSync);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction simpleTemplate(_ref) {\n\t    var name = _ref.name;\n\t\n\t    var data = _objectWithoutProperties(_ref, ['name']);\n\t\n\t    return _extends({\n\t        test: new RegExp('.' + name + '$', 'g') }, data);\n\t}\n\t\n\tfunction expandLoaderData(data) {\n\t    return typeof data == 'string' ? { loader: data } : Array.isArray(data) ? { loaders: data } : data;\n\t}\n\t\n\tfunction expandSimpleLoaderMap(map) {\n\t    return Object.keys(map).reduce(function (newMap, name) {\n\t        var data = map[name];\n\t        newMap[name] = simpleTemplate(_extends({ name: name }, expandLoaderData(map[name])));\n\t        return newMap;\n\t    }, {});\n\t}\n\t\n\tvar cssLoaders = ['style-loader', 'css-loader'];\n\tvar defaultLoaderMap = Object.assign(expandSimpleLoaderMap({\n\t    json: 'json-loader',\n\t    html: 'html-loader',\n\t    css: [].concat(cssLoaders, ['postcss-loader']),\n\t    less: [].concat(cssLoaders, ['less-loader']),\n\t    scss: [].concat(cssLoaders, ['sass-loader']),\n\t    sass: [].concat(cssLoaders, ['sass-loader'])\n\t}), {\n\t    woff: {\n\t        test: /\\.woff(2)?(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/font-woff\"\n\t    },\n\t    tff: {\n\t        test: /\\.ttf(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/octet-stream\"\n\t    },\n\t    svg: {\n\t        test: /\\.svg(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=image/svg+xml\"\n\t    },\n\t    png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n\t    eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n\t    jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n\t});\n\t\n\tvar defaultLoaderSetMap = {\n\t    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n\t    'web-asset': ['common-asset', 'json', 'html', 'css'],\n\t    'general-asset': ['web-asset', 'scss', 'less', 'sass', 'scss']\n\t};\n\tfunction buildExpander(loaderSetMap) {\n\t    return function expandLoader(loaders, explicit) {\n\t        loaderSetMap[explicit] ? loaderSetMap[explicit].forEach(function (name) {\n\t            return loaders = expandLoader(loaders, name);\n\t        }) : loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true;\n\t        return loaders;\n\t    };\n\t}\n\t\n\tfunction expandExplicitLoaders(explicitLoaders, loaderSetMap) {\n\t    return explicitLoaders.reduce(buildExpander(loaderSetMap), {});\n\t}\n\t\n\tfunction autoLoader() {\n\t    var _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref2$jsonPath = _ref2.jsonPath;\n\t    var jsonPath = _ref2$jsonPath === undefined ? './package.json' : _ref2$jsonPath;\n\t    var _ref2$loaderMap = _ref2.loaderMap;\n\t    var loaderMap = _ref2$loaderMap === undefined ? defaultLoaderMap : _ref2$loaderMap;\n\t    var _ref2$loaderSetMap = _ref2.loaderSetMap;\n\t    var loaderSetMap = _ref2$loaderSetMap === undefined ? defaultLoaderSetMap : _ref2$loaderSetMap;\n\t\n\t    var json = (0, _readJsonSync2.default)(jsonPath);\n\t\n\t    var dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies, expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap));\n\t    return Object.keys(dependencyPool).filter(function (name) {\n\t        return name.endsWith('-loader');\n\t    }).map(function (name) {\n\t        return name.replace(/-loader$/, '');\n\t    }).map(function (name) {\n\t        return loaderMap[name];\n\t    }).filter(function (name) {\n\t        return name;\n\t    });\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.autoLoader = exports.default = undefined;\n\t\n\tvar _configBuilder = __webpack_require__(5);\n\t\n\tvar _configBuilder2 = _interopRequireDefault(_configBuilder);\n\t\n\tvar _autoLoader2 = __webpack_require__(2);\n\t\n\tvar _autoLoader3 = _interopRequireDefault(_autoLoader2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _configBuilder2.default;\n\texports.autoLoader = _autoLoader3.default;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = webpackConfig;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _modifiers = __webpack_require__(6);\n\t\n\tvar _modifiers2 = _interopRequireDefault(_modifiers);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _subConfigBuilders = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction webpackConfig(_ref) {\n\t    var entry = _ref.entry;\n\t    var out = _ref.out;\n\t    var hot = _ref.hot;\n\t    var modules = _ref.modules;\n\t    var context = _ref.context;\n\t    var _ref$env = _ref.env;\n\t    var env = _ref$env === undefined ? derivedEnv : _ref$env;\n\t    var _ref$babelPresets = _ref.babelPresets;\n\t    var babelPresets = _ref$babelPresets === undefined ? [] : _ref$babelPresets;\n\t    var _ref$plugins = _ref.plugins;\n\t    var plugins = _ref$plugins === undefined ? [] : _ref$plugins;\n\t    var polypackMeta = _ref[_identity2.default];\n\t    var _ref$overrides = _ref.overrides;\n\t    var overrides = _ref$overrides === undefined ? {} : _ref$overrides;\n\t\n\t    process.chdir(process.env.PWD);\n\t    var config = Object.assign(polypackMeta ? _defineProperty({}, _identity2.default, polypackMeta) : {}, (0, _subConfigBuilders.io)({ entry: entry, out: out }), (0, _subConfigBuilders.target)({ context: context }), (0, _subConfigBuilders.fixed)(), (0, _subConfigBuilders.plugin)({ env: env, context: context, plugins: plugins }), (0, _subConfigBuilders.resolve)({ pwd: './', modules: modules, dirname: _path2.default.join(__dirname, '..') }), (0, _subConfigBuilders.module)({ babelPresets: babelPresets }), overrides);\n\t    return (0, _modifiers2.default)({ config: config, env: env, hot: hot });\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = modify;\n\t\n\tvar _webpackNodeExternals = __webpack_require__(14);\n\t\n\tvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar modifiers = {\n\t    polypack: function polypack(config) {\n\t        var compound_version = config[_identity2.default].signature;\n\t        config.externals.push(function (context, request, callback) {\n\t            if (/^polypack!/.test(request)) return callback(null, request.substr(9) + '/dist/for/' + compound_version);\n\t            callback();\n\t        });\n\t        config.callbackLoader = {\n\t            polypack: function polypack(_) {\n\t                return 'require(\"./for/' + compound_version + '\") //polypacked by dist';\n\t            }\n\t        };\n\t        return config;\n\t    },\n\t    hot: function hot(config) {\n\t        config.debug = true;\n\t        config.plugins.unshift(new _webpack2.default.HotModuleReplacementPlugin());\n\t        config.externals = [(0, _webpackNodeExternals2.default)({ whitelist: [\"webpack/hot/poll?1000\"] })];\n\t        config.plugins.unshift(\"webpack/hot/poll?1000\");\n\t        return config;\n\t    },\n\t    production: function production(config) {\n\t        config.plugins.push(new _webpack2.default.optimize.UglifyJsPlugin());\n\t        return config;\n\t    }\n\t};\n\t\n\tfunction modify(_ref) {\n\t    var config = _ref.config;\n\t    var env = _ref.env;\n\t    var hot = _ref.hot;\n\t\n\t    config = modifiers.polypack(config);\n\t    if (env.toLowerCase() == 'production') config = modifiers.production(config);\n\t    if (hot) config = modifiers.hot(config);\n\t    return config;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.module = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.plugin = plugin;\n\texports.target = target;\n\texports.output = output;\n\texports.fixed = fixed;\n\texports.resolve = resolve;\n\texports.output = output;\n\texports.io = io;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _webpackNodeExternals = __webpack_require__(14);\n\t\n\tvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\t\n\tvar _autoLoader = __webpack_require__(2);\n\t\n\tvar _autoLoader2 = _interopRequireDefault(_autoLoader);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction babelLoader(_ref) {\n\t    var babelPresets = _ref.babelPresets;\n\t\n\t    babelPresets.unshift('es2015');\n\t    babelPresets.push('stage-0');\n\t    return {\n\t        test: /\\.js|\\.jsx$/,\n\t        loader: 'babel',\n\t        query: {\n\t            presets: babelPresets.map(function (preset) {\n\t                return 'babel-preset-' + preset;\n\t            })\n\t        },\n\t        exclude: /node_modules/,\n\t        noParse: /\\.min\\.js/\n\t    };\n\t}\n\t\n\tfunction plugin(_ref2) {\n\t    var env = _ref2.env;\n\t    var context = _ref2.context;\n\t    var plugins = _ref2.plugins;\n\t\n\t    return {\n\t        plugins: [new _webpack2.default.DefinePlugin({\n\t            $ES: {\n\t                CONTEXT: JSON.stringify(context || 'NODE'),\n\t                ENV: JSON.stringify(env)\n\t            }\n\t        }), new _webpack2.default.BannerPlugin('require(\"source-map-support\").install();', { raw: true, entryOnly: false })].concat(_toConsumableArray(plugins), [new _webpack2.default.optimize.DedupePlugin(), new _webpack2.default.optimize.OccurenceOrderPlugin(), new _webpack2.default.NoErrorsPlugin()]) };\n\t}\n\t\n\tfunction target(_ref3) {\n\t    var context = _ref3.context;\n\t\n\t    return {\n\t        target: {\n\t            NODE: 'node',\n\t            BROWSER: 'web'\n\t        }[context]\n\t    };\n\t}\n\t\n\tfunction output(out) {\n\t    return {\n\t        libraryTarget: \"commonjs2\",\n\t        path: _path2.default.dirname(out),\n\t        filename: _path2.default.basename(out)\n\t    };\n\t}\n\t\n\tfunction fixed() {\n\t    return {\n\t        devtool: 'source-map',\n\t        cache: false,\n\t        node: {\n\t            __dirname: false,\n\t            __filename: false\n\t        },\n\t        externals: [(0, _webpackNodeExternals2.default)()]\n\t    };\n\t}\n\t\n\tfunction resolve(_ref4) {\n\t    var pwd = _ref4.pwd;\n\t    var modules = _ref4.modules;\n\t    var dirname = _ref4.dirname;\n\t\n\t    var fallback = [_path2.default.join(dirname, \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules/polypacker/node_modules\")];\n\t    return {\n\t        context: _path2.default.resolve(pwd),\n\t        resolve: {\n\t            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n\t            extensions: ['', '.json', '.js', '.jsx'],\n\t            fallback: fallback\n\t        },\n\t        resolveLoader: {\n\t            moduleDirectories: [\"node_modules\", \"polypacker/node_modules\"],\n\t            fallback: fallback\n\t        }\n\t    };\n\t}\n\t\n\tfunction output(_ref5) {\n\t    var out = _ref5.out;\n\t\n\t    return {\n\t        output: {\n\t            libraryTarget: \"commonjs2\",\n\t            path: _path2.default.dirname(out),\n\t            filename: _path2.default.basename(out)\n\t        }\n\t    };\n\t}\n\t\n\tfunction io(_ref6) {\n\t    var entry = _ref6.entry;\n\t    var out = _ref6.out;\n\t\n\t    return _extends({ entry: [entry] }, output({ out: out }));\n\t}\n\t\n\tfunction _module(_ref7) {\n\t    var babelPresets = _ref7.babelPresets;\n\t    var _ref7$packagePath = _ref7.packagePath;\n\t    var packagePath = _ref7$packagePath === undefined ? './package.json' : _ref7$packagePath;\n\t\n\t    return {\n\t        module: {\n\t            loaders: [babelLoader({ babelPresets: babelPresets })].concat(_toConsumableArray((0, _autoLoader2.default)({ jsonPath: _path2.default.resolve(packagePath) })))\n\t        }\n\t    };\n\t}\n\texports.module = _module;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers';\n\tvar argumentMap = {\n\t    entry: {\n\t        help: 'main entry point for your program, across all contexts'\n\t    },\n\t    out: {\n\t        help: 'destination for compiled bundle'\n\t    },\n\t    modules: {\n\t        help: 'where to look for modules'\n\t    },\n\t    watch: {\n\t        help: 'monitor source files for changes and recompile.',\n\t        action: 'storeTrue'\n\t    },\n\t    hot: {\n\t        help: 'enable hot module replacement',\n\t        action: 'storeTrue'\n\t    },\n\t    run: {\n\t        help: 'Which context to run on compilation, if any'\n\t    },\n\t    env: {\n\t        aliases: ['-e', '--environment'],\n\t        dest: 'environments',\n\t        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    context: {\n\t        aliases: ['-c'],\n\t        dest: 'contexts',\n\t        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    preset: {\n\t        help: '\\\n\t            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n\t            entry: ./src/entry.js\\\n\t            contexts: [NODE, BROWSER]\\\n\t            environments: [DEVELOPMENT, PRODUCTION]\\\n\t            out: ./dist/for/$context_$env.js\\\n\t        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.'\n\t    },\n\t    babelPreset: {\n\t        dest: 'babelPresets',\n\t        defaultValue: [],\n\t        help: 'add a preset to the babel loader, between es2015 and stage-0',\n\t        action: 'append'\n\t    },\n\t    logLevel: {\n\t        defaultValue: 'ERROR',\n\t        help: 'VERBOSE will output webpack stats and warnings'\n\t    }\n\t};\n\texports.default = argumentMap;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _parser = __webpack_require__(15);\n\t\n\tvar _parser2 = _interopRequireDefault(_parser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _parser2.default;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\texports.clone = clone;\n\texports.selectTask = selectTask;\n\texports.taskWrapper = taskWrapper;\n\texports.flatten = flatten;\n\texports.splitByContext = splitByContext;\n\texports.splitByEnv = splitByEnv;\n\tfunction clone(obj) {\n\t    if (null == obj || \"object\" != (typeof obj === 'undefined' ? 'undefined' : _typeof(obj))) return obj;\n\t    var copy = obj.constructor() || {};\n\t    for (var attr in obj) {\n\t        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t    }\n\t    return copy;\n\t}\n\t\n\tfunction selectTask(_ref) {\n\t    var watch = _ref.watch;\n\t    var run = _ref.run;\n\t\n\t    if (watch && run) {\n\t        return 'watch-and-run';\n\t    } else if (watch) {\n\t        return 'watch';\n\t    } else if (run) {\n\t        return 'run';\n\t    } else {\n\t        return 'dist';\n\t    }\n\t}\n\t\n\tfunction taskWrapper(compilers, task, meta) {\n\t    return {\n\t        task: task || 'dist',\n\t        compilers: compilers,\n\t        meta: meta || { logLevel: compilers[0].logLevel || 'ERROR' }\n\t    };\n\t}\n\t\n\tfunction flatten(arrays) {\n\t    return [].concat.apply([], arrays);\n\t}\n\t\n\tfunction splitByContext(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByContext));\n\t    }\n\t    var contexts = args.contexts;\n\t    delete args.contexts;\n\t    return contexts ? contexts.map(function (context) {\n\t        var contextArgs = clone(args);\n\t        contextArgs.context = context;\n\t        return contextArgs;\n\t    }) : [args];\n\t}\n\t\n\tfunction splitByEnv(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByEnv));\n\t    }\n\t    var envs = args.environments;\n\t    delete args.environments;\n\t    return envs ? envs.map(function (env) {\n\t        var envArgs = clone(args);\n\t        envArgs.env = env;\n\t        return envArgs;\n\t    }) : [args];\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"colors\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack-node-externals\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.default = parse;\n\t\n\tvar _parserFromArgumentMap = __webpack_require__(16);\n\t\n\tvar _parserFromArgumentMap2 = _interopRequireDefault(_parserFromArgumentMap);\n\t\n\tvar _argumentMap = __webpack_require__(10);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tvar _presets = __webpack_require__(18);\n\t\n\tvar _presets2 = _interopRequireDefault(_presets);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar parser = (0, _parserFromArgumentMap2.default)(_argumentMap2.default);\n\t\n\tfunction parse(argstring) {\n\t    var _parser$parseKnownArg = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/));\n\t\n\t    var _parser$parseKnownArg2 = _slicedToArray(_parser$parseKnownArg, 2);\n\t\n\t    var config = _parser$parseKnownArg2[0];\n\t    var unknown = _parser$parseKnownArg2[1];\n\t\n\t    return {\n\t        config: (0, _presets2.default)(config),\n\t        unknown: unknown\n\t    };\n\t}\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.addArgumentMapToParser = addArgumentMapToParser;\n\texports.default = parserFromArgumentMap;\n\t\n\tvar _argparse = __webpack_require__(23);\n\t\n\tvar _argumentMap = __webpack_require__(10);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction addArgumentMapToParser(parser, argumentMap) {\n\t    for (var key in argumentMap) {\n\t        if (argumentMap.hasOwnProperty(key)) {\n\t            var argAliases = argumentMap[key].aliases || [];\n\t            argAliases.unshift('--' + key);\n\t            parser.addArgument(argAliases, argumentMap[key]);\n\t        }\n\t    }\n\t    return parser;\n\t}\n\t\n\tfunction parserFromArgumentMap(argumentMap) {\n\t    var parser = new _argparse.ArgumentParser({\n\t        argumentDefault: undefined,\n\t        version: '0.0.1',\n\t        addHelp: true,\n\t        description: 'context-driven js distribution tool for multiple environments'\n\t    });\n\t    return addArgumentMapToParser(parser, argumentMap);\n\t}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.NODE_COMPONENT = NODE_COMPONENT;\n\texports.BROWSER_COMPONENT = BROWSER_COMPONENT;\n\texports.FULLSTACK_COMPONENT = FULLSTACK_COMPONENT;\n\texports.NODE_APPLICATION = NODE_APPLICATION;\n\texports.FULLSTACK_APPLICATION = FULLSTACK_APPLICATION;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _utils = __webpack_require__(12);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction fromSrcDir(args) {\n\t    args.entry = args.entry || './src/index.js';\n\t    args.modules = args.modules || './src';\n\t    return args;\n\t}\n\t\n\tfunction defaultContextualComponent(args) {\n\t    args = fromSrcDir(args);\n\t    args.out = args.out || args.context && './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js';\n\t    return args;\n\t}\n\t\n\tfunction handleIndexTemplate() {\n\t    try {\n\t        _fs2.default.lstatSync('./dist/index.js');\n\t    } catch (err) {\n\t        _fs2.default.mkdir('./dist');\n\t        _fs2.default.createReadStream(__dirname + '/templates/fullstackComponentIndex.js').pipe(_fs2.default.createWriteStream('./dist/index.js'));\n\t    }\n\t}\n\t\n\tfunction NODE_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction BROWSER_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction FULLSTACK_COMPONENT(args) {\n\t    handleIndexTemplate(); // TODO: this and splitByContext don't handle args.out like they should\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    args.environments = ['DEVELOPMENT', 'PRODUCTION'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    var compilers = (0, _utils.splitByEnv)(contexts).map(defaultContextualComponent);\n\t    return (0, _utils.taskWrapper)(compilers, args.watch ? 'watch' : 'dist');\n\t}\n\t\n\tfunction NODE_APPLICATION(args) {\n\t    args.context = 'NODE';\n\t    delete args.contexts;\n\t    args.out = args.out || './dist/index.js';\n\t    args.run = true;\n\t    args = defaultContextualComponent(args);\n\t    args = (0, _utils.splitByEnv)(args);\n\t    return (0, _utils.taskWrapper)(args, args.watch ? 'watch-and-run' : 'run');\n\t}\n\t\n\tfunction FULLSTACK_APPLICATION(args) {\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    for (i = 0; i < contexts.length; i++) {\n\t        contexts[i] = defaultContextualComponent(contexts[i]);\n\t        contexts[i].run = contexts[i].context == 'NODE';\n\t    }\n\t    return (0, _utils.taskWrapper)(contexts, args.watch ? 'watch-and-run' : 'run');\n\t}\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = apply;\n\t\n\tvar _presetMap = __webpack_require__(17);\n\t\n\tvar presetMap = _interopRequireWildcard(_presetMap);\n\t\n\tvar _utils = __webpack_require__(12);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction metaArgs(conf) {\n\t    return { logLevel: conf.logLevel };\n\t}\n\t\n\tfunction apply(args) {\n\t    var preset = args.preset;\n\t    delete args.preset;\n\t    if (preset && presetMap[preset]) {\n\t        return presetMap[preset](args);\n\t    } else {\n\t        var contexts = (0, _utils.splitByContext)(args);\n\t        var compilers = (0, _utils.splitByEnv)(contexts);\n\t        return (0, _utils.taskWrapper)(compilers, (0, _utils.selectTask)(args), metaArgs(args));\n\t    }\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.parser = exports.run = exports.taskManager = exports.autoLoader = exports.configBuilder = undefined;\n\t\n\tvar _webpacker = __webpack_require__(3);\n\t\n\tObject.defineProperty(exports, 'autoLoader', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _webpacker.autoLoader;\n\t  }\n\t});\n\t\n\tvar _taskManager2 = __webpack_require__(21);\n\t\n\tObject.defineProperty(exports, 'run', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _taskManager2.run;\n\t  }\n\t});\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _taskManager3 = _interopRequireDefault(_taskManager2);\n\t\n\tvar _argparser = __webpack_require__(11);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.configBuilder = _webpacker2.default;\n\texports.taskManager = _taskManager3.default;\n\texports.parser = _argparser2.default;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.log = log;\n\texports.pad = pad;\n\texports.shortTimestamp = shortTimestamp;\n\texports.prefix = prefix;\n\texports.importantLog = importantLog;\n\texports.logImportantFromToAction = logImportantFromToAction;\n\t\n\tvar _colors = __webpack_require__(13);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction log(str) {\n\t    console.log(str);\n\t}\n\t\n\tfunction pad(num) {\n\t    return (\"0\" + num).slice(-2);\n\t}\n\t\n\tfunction shortTimestamp() {\n\t    var d = new Date();\n\t    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds());\n\t}\n\t\n\tfunction upperFirst(str) {\n\t    return typeof str != \"undefined\" ? (str += '', str[0].toUpperCase() + str.substr(1)) : '';\n\t}\n\t\n\tfunction prefix() {\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref$color = _ref.color;\n\t    var color = _ref$color === undefined ? 'magenta' : _ref$color;\n\t\n\t    return _colors2.default[color]('[' + shortTimestamp() + '] ') + _colors2.default['bg' + upperFirst(color)](' ');\n\t}\n\t\n\tfunction importantLog(str) {\n\t    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    var _ref2$color = _ref2.color;\n\t    var color = _ref2$color === undefined ? 'magenta' : _ref2$color;\n\t\n\t    log(prefix({ color: color }) + \" \" + _colors2.default.bold(str));\n\t}\n\t\n\tfunction logImportantFromToAction(acting, _ref3) {\n\t    var _ref3$identity = _ref3[_identity2.default];\n\t    var entry = _ref3$identity.entry;\n\t    var out = _ref3$identity.out;\n\t    var color = arguments.length <= 2 || arguments[2] === undefined ? 'cyan' : arguments[2];\n\t\n\t    importantLog(acting + ' from \\'' + _colors2.default[color](entry) + '\\' to \\'' + _colors2.default[color](out) + '\\'');\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar runSelectedContext = function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(configurations, _ref2) {\n\t        var unknown = _ref2.unknown;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t            while (1) {\n\t                switch (_context.prev = _context.next) {\n\t                    case 0:\n\t                        configurations.map(function (configuration) {\n\t                            if (configuration.run) {\n\t                                (0, _logging.importantLog)(\"runnning \" + _colors2.default.cyan(configuration.context) + \" context from \" + _colors2.default.cyan(configuration.out));\n\t                                (0, _nodemon2.default)({\n\t                                    execMap: { js: 'node' },\n\t                                    script: _path2.default.join(process.env.PWD, configuration.out),\n\t                                    args: unknown,\n\t                                    ignore: ['*'],\n\t                                    watch: ['nothing/'],\n\t                                    ext: 'noop'\n\t                                }).on('restart', function () {\n\t                                    (0, _logging.importantLog)('Patched!');\n\t                                });\n\t                            }\n\t                        });\n\t\n\t                    case 1:\n\t                    case 'end':\n\t                        return _context.stop();\n\t                }\n\t            }\n\t        }, _callee, this);\n\t    }));\n\t\n\t    return function runSelectedContext(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t    };\n\t}();\n\t\n\texports.run = run;\n\texports.default = runTask;\n\t\n\tvar _colors = __webpack_require__(13);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _nodemon = __webpack_require__(25);\n\t\n\tvar _nodemon2 = _interopRequireDefault(_nodemon);\n\t\n\tvar _death = __webpack_require__(24);\n\t\n\tvar _death2 = _interopRequireDefault(_death);\n\t\n\tvar _webpacker = __webpack_require__(3);\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _argparser = __webpack_require__(11);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _logging = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tvar watching = {\n\t    count: 0,\n\t    compilers: []\n\t};\n\t\n\tvar polywatch = Symbol(polywatch);\n\t\n\tfunction endWatch(watcher) {\n\t    watcher.close(function () {\n\t        (0, _logging.logImportantFromToAction)(\"stopped compiling\", watcher, 'magenta');\n\t        watching.count -= 1;\n\t        if (!watching.count) {\n\t            (0, _logging.importantLog)('all watchers stopped. Polypacker exited cleanly');\n\t            process.exit(0);\n\t        }\n\t    });\n\t}\n\t\n\tfunction polypack(configuration) {\n\t    var compiler = (0, _webpack2.default)((0, _webpacker2.default)(configuration));\n\t    compiler[_identity2.default] = configuration[_identity2.default];\n\t    compiler[polywatch] = function () {\n\t        var watcher = compiler.watch.apply(compiler, arguments);\n\t        watching.count += 1;\n\t        watcher[_identity2.default] = configuration[_identity2.default];\n\t        watching.compilers.push(watcher);\n\t        return watcher;\n\t    };\n\t    return compiler;\n\t}\n\t\n\tfunction onBuild(err, stats, configuration) {\n\t    var compound_version = configuration[_identity2.default].signature;\n\t    var status = 'success';\n\t    if (err) {\n\t        (0, _logging.importantLog)(_colors2.default.red('Errors while building ' + compound_version + '!'), { color: 'red' });\n\t        (0, _logging.log)('Error', err);\n\t        status = 'error';\n\t    } else if (stats.hasErrors()) {\n\t        (0, _logging.importantLog)(_colors2.default.red('Errors while building ' + compound_version + '!'), { color: 'red' });\n\t        (0, _logging.log)(stats.toString({ colors: true, errorDetails: true }));\n\t        status = 'error';\n\t    } else {\n\t        (0, _logging.importantLog)('successfully built ' + _colors2.default.cyan(compound_version));\n\t    }\n\t    if (configuration.logLevel == 'VERBOSE') {\n\t        (0, _logging.log)(stats.toString({ colors: true }));\n\t    }\n\t    return {\n\t        compiler: compound_version,\n\t        status: status\n\t    };\n\t}\n\t\n\tfunction run(configuration) {\n\t    var callback = arguments.length <= 1 || arguments[1] === undefined ? function (_) {\n\t        return _;\n\t    } : arguments[1];\n\t\n\t    polypack(configuration).run(function (err, stats) {\n\t        results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t        callback({ results: results });\n\t    });\n\t}\n\t\n\tfunction compileForAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    var rejection = null;\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"distributing\", configuration);\n\t            polypack(configuration).run(function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        if (!rejection) {\n\t            rejection = setTimeout(function (_) {\n\t                if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t            }, 100000);\n\t        }\n\t    });\n\t}\n\t\n\tvar contextWatchActions = {\n\t    NODE: function NODE(_ref) {\n\t        var watch = _ref.watch;\n\t        var run = _ref.run;\n\t        return watch && run && _nodemon2.default.restart();\n\t    }\n\t};\n\t\n\tfunction watchAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"watching and distributing\", configuration);\n\t            polypack(configuration)[polywatch](250, function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                if (contextWatchActions[configuration.context]) {\n\t                    contextWatchActions[configuration.context](configuration);\n\t                }\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        setTimeout(function () {\n\t            if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t        }, 100000);\n\t    });\n\t}\n\t\n\tfunction chain() {\n\t    for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n\t        fns[_key] = arguments[_key];\n\t    }\n\t\n\t    return function () {\n\t        var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t            var _iteratorNormalCompletion,\n\t                _didIteratorError,\n\t                _iteratorError,\n\t                _iterator,\n\t                _step,\n\t                fn,\n\t                _args2 = arguments;\n\t\n\t            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t                while (1) {\n\t                    switch (_context2.prev = _context2.next) {\n\t                        case 0:\n\t                            _iteratorNormalCompletion = true;\n\t                            _didIteratorError = false;\n\t                            _iteratorError = undefined;\n\t                            _context2.prev = 3;\n\t                            _iterator = fns[Symbol.iterator]();\n\t\n\t                        case 5:\n\t                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n\t                                _context2.next = 12;\n\t                                break;\n\t                            }\n\t\n\t                            fn = _step.value;\n\t                            _context2.next = 9;\n\t                            return fn.apply(undefined, _args2);\n\t\n\t                        case 9:\n\t                            _iteratorNormalCompletion = true;\n\t                            _context2.next = 5;\n\t                            break;\n\t\n\t                        case 12:\n\t                            _context2.next = 18;\n\t                            break;\n\t\n\t                        case 14:\n\t                            _context2.prev = 14;\n\t                            _context2.t0 = _context2['catch'](3);\n\t                            _didIteratorError = true;\n\t                            _iteratorError = _context2.t0;\n\t\n\t                        case 18:\n\t                            _context2.prev = 18;\n\t                            _context2.prev = 19;\n\t\n\t                            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                                _iterator.return();\n\t                            }\n\t\n\t                        case 21:\n\t                            _context2.prev = 21;\n\t\n\t                            if (!_didIteratorError) {\n\t                                _context2.next = 24;\n\t                                break;\n\t                            }\n\t\n\t                            throw _iteratorError;\n\t\n\t                        case 24:\n\t                            return _context2.finish(21);\n\t\n\t                        case 25:\n\t                            return _context2.finish(18);\n\t\n\t                        case 26:\n\t                        case 'end':\n\t                            return _context2.stop();\n\t                    }\n\t                }\n\t            }, _callee2, this, [[3, 14, 18, 26], [19,, 21, 25]]);\n\t        }));\n\t\n\t        return function (_x4) {\n\t            return ref.apply(this, arguments);\n\t        };\n\t    }();\n\t}\n\t\n\tvar tasks = {\n\t    'dist': chain(compileForAllConfigurations, exit),\n\t    'watch': watchAllConfigurations,\n\t    'run': chain(compileForAllConfigurations, runSelectedContext),\n\t    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n\t};\n\t\n\tfunction exit() {\n\t    var _ref3 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var err = _ref3.err;\n\t\n\t    if (err) {\n\t        console.log(err);\n\t        throw err;\n\t    }\n\t    if (watching.count) {\n\t        (0, _logging.log)('\\n');\n\t        (0, _logging.importantLog)('stopping watchers.');\n\t        watching.compilers.map(endWatch);\n\t    } else {\n\t        (0, _logging.importantLog)('Polypacker exited cleanly.');\n\t        process.exit(0);\n\t    }\n\t}\n\t\n\tfunction runTask(_ref4) {\n\t    var _ref4$config = _ref4.config;\n\t    var compilers = _ref4$config.compilers;\n\t    var task = _ref4$config.task;\n\t    var unknown = _ref4.unknown;\n\t    var _ref4$callback = _ref4.callback;\n\t    var callback = _ref4$callback === undefined ? function (_) {\n\t        return _;\n\t    } : _ref4$callback;\n\t\n\t    return tasks[task](compilers.map(_identity.sign), { unknown: unknown }).then(callback).catch(function (err) {\n\t        return exit({ err: err });\n\t    });\n\t}\n\t\n\t(0, _death2.default)(function (signal, err) {\n\t    return exit({ err: err });\n\t});\n\n/***/ },\n/* 22 */,\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"argparse\");\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"death\");\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodemon\");\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"read-json-sync\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a8920a426f5c7893c476\n **/","const identity = Symbol('polypacker')\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nfunction compound({context, env}){\n    return (context && env) ? context.toLowerCase() + '_' + env.toLowerCase() : 'index'\n}\n\nexport function sign(obj = {}){\n    let { entry, out, hot, context, env = derivedEnv } = obj\n    obj[identity] = {\n        signature: compound({context, env}),\n        entry, out, hot\n    }\n    return obj\n}\n\nexport default identity\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/identity.js\n **/","import readJsonSync from 'read-json-sync'\n\nfunction simpleTemplate({name, ...data}){\n    return {\n        test: new RegExp(`\\.${name}$`,'g'), ...data\n    }\n}\n\nfunction expandLoaderData(data){\n    return (typeof(data) == 'string') ?\n        {loader: data} :\n        Array.isArray(data) ?\n            {loaders: data} :\n            data\n}\n\nexport function expandSimpleLoaderMap(map){\n    return Object.keys(map).reduce((newMap, name) => {\n        let data = map[name]\n        newMap[name] = simpleTemplate({name, ...expandLoaderData(map[name])})\n        return newMap\n    }, {})\n}\n\nconst cssLoaders = [ 'style-loader', 'css-loader' ]\nconst defaultLoaderMap = Object.assign(\n    expandSimpleLoaderMap({\n        json: 'json-loader',\n        html: 'html-loader',\n        css:  [ ...cssLoaders, 'postcss-loader'],\n        less: [ ...cssLoaders, 'less-loader'   ],\n        scss: [ ...cssLoaders, 'sass-loader'   ],\n        sass: [ ...cssLoaders, 'sass-loader'   ] \n    }), {\n        woff: {\n            test: /\\.woff(2)?(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/font-woff\"\n        },\n        tff: {\n            test: /\\.ttf(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/octet-stream\"\n        },\n        svg: {\n            test: /\\.svg(\\?.+)?$/,\n            loader: \"url-loader\",\n            query:\"?limit=10000&mimetype=image/svg+xml\"\n        },\n        png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n        eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n        jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n    }\n)\n\nconst defaultLoaderSetMap = {\n    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n    'web-asset': ['common-asset', 'json', 'html', 'css'],\n    'general-asset': ['web-asset', 'scss','less', 'sass', 'scss']\n}\nfunction buildExpander(loaderSetMap){\n    return function expandLoader(loaders, explicit){\n        loaderSetMap[explicit] ?\n            loaderSetMap[explicit].forEach(name => loaders = expandLoader(loaders, name)) :\n            loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true\n        return loaders\n    }\n}\n\nfunction expandExplicitLoaders(explicitLoaders, loaderSetMap){\n    return explicitLoaders.reduce(buildExpander(loaderSetMap), {})\n}\n\nexport default function autoLoader({\n    jsonPath = './package.json',\n    loaderMap = defaultLoaderMap,\n    loaderSetMap = defaultLoaderSetMap,\n} = {}){\n    let json = readJsonSync(jsonPath)\n\n    let dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies,\n        expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap))\n    return Object.keys(dependencyPool)\n        .filter(name => name.endsWith('-loader'))\n        .map(name => name.replace(/-loader$/,''))\n        .map(name => loaderMap[name])\n        .filter(name => name)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/autoLoader.js\n **/","export default from './configBuilder'\nexport autoLoader from './autoLoader'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/index.js\n **/","module.exports = require(\"webpack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack\"\n ** module id = 4\n ** module chunks = 0\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport modify from './modifiers'\nimport identity from '../identity'\nimport { io, plugin, resolve, fixed, target, module } from './subConfigBuilders'\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nexport default function webpackConfig({\n    entry, out, hot, modules, context,\n    env=derivedEnv,\n    babelPresets=[],\n    plugins=[],\n    [identity]: polypackMeta,\n    overrides = {}\n}){\n    process.chdir(process.env.PWD)\n    let config = Object.assign(\n        polypackMeta ? {[identity]: polypackMeta} : {},\n        io({entry, out}),\n        target({context}),\n        fixed(),\n        plugin({env, context, plugins}),\n        resolve({pwd: './', modules, dirname: path.join(__dirname, '..')}),\n        module({babelPresets}),\n        overrides\n    )\n    return modify({config, env, hot})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/configBuilder.js\n **/","import nodeExternals from 'webpack-node-externals'\nimport webpack from 'webpack'\n\nimport polyPackerIdentity from '../identity'\n\nconst modifiers = {\n    polypack: config => {\n        let compound_version = config[polyPackerIdentity].signature\n        config.externals.push(\n            (context, request, callback) => {\n            if(/^polypack!/.test(request))\n                return callback(null, `${request.substr(9)}/dist/for/${compound_version}`);\n            callback();\n        })\n        config.callbackLoader = {\n            polypack: _ => `require(\"./for/${compound_version}\") //polypacked by dist`\n        }\n        return config\n    },\n    hot: config => {\n        config.debug = true\n        config.plugins.unshift(new webpack.HotModuleReplacementPlugin())\n        config.externals = [nodeExternals({ whitelist: [\"webpack/hot/poll?1000\"] })]\n        config.plugins.unshift(\"webpack/hot/poll?1000\")\n        return config\n    },\n    production: config => {\n        config.plugins.push( new webpack.optimize.UglifyJsPlugin() )\n        return config\n    }\n}\n\nexport default function modify({config, env, hot}){\n    config = modifiers.polypack(config)\n    if(env.toLowerCase() == 'production')\n        config = modifiers.production(config);\n    if(hot)\n        config = modifiers.hot(config);\n    return config\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/modifiers.js\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport nodeExternals from 'webpack-node-externals'\nimport autoLoader from './autoLoader'\n\nfunction babelLoader({babelPresets}){\n    babelPresets.unshift('es2015')\n    babelPresets.push('stage-0')\n    return {\n        test: /\\.js|\\.jsx$/,\n        loader: 'babel',\n        query: {\n            presets: babelPresets.map(preset => `babel-preset-${preset}`)\n        },\n        exclude: /node_modules/,\n        noParse: /\\.min\\.js/\n    }\n}\n\nexport function plugin({env, context, plugins}){\n    return {\n        plugins: [\n        new webpack.DefinePlugin({\n            $ES: {\n                CONTEXT: JSON.stringify(context || 'NODE'),\n                ENV: JSON.stringify(env)\n            }\n        }),\n        new webpack.BannerPlugin(\n            'require(\"source-map-support\").install();',\n            { raw: true, entryOnly: false }\n        ),\n        ...plugins,\n        new webpack.optimize.DedupePlugin(),\n        new webpack.optimize.OccurenceOrderPlugin(),\n        new webpack.NoErrorsPlugin(),\n    ]}\n}\n\nexport function target({context}){\n    return {\n        target: ({\n            NODE: 'node',\n            BROWSER: 'web'\n        })[context]\n    }\n}\n\nexport function output(out){\n    return {\n        libraryTarget: \"commonjs2\",\n        path: path.dirname(out),\n        filename: path.basename(out),\n    }\n}\n\nexport function fixed() {\n    return {\n        devtool: 'source-map',\n        cache: false,\n        node: {\n            __dirname: false,\n            __filename: false\n        },\n        externals: [ nodeExternals() ]\n    }\n}\n\nexport function resolve({pwd, modules, dirname}) {\n    let fallback = [\n        path.join(dirname, \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules/polypacker/node_modules\")\n    ]\n    return {\n        context: path.resolve(pwd),\n        resolve: {\n            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n            extensions: ['', '.json', '.js', '.jsx'],\n            fallback\n        },\n        resolveLoader: {\n            moduleDirectories: [\"node_modules\", \"polypacker/node_modules\"],\n            fallback\n        },\n    }\n}\n\nexport function output({out}){\n    return {\n        output:  {\n            libraryTarget: \"commonjs2\",\n            path: path.dirname(out),\n            filename: path.basename(out),\n        }\n    }\n}\n\nexport function io({entry, out}){\n    return {entry: [ entry ], ...output({out})}\n}\n\nexport function module({babelPresets, packagePath = './package.json'}){\n    return {\n        module: {\n            loaders: [\n                babelLoader({babelPresets}), \n                ...autoLoader({jsonPath: path.resolve(packagePath)}),\n            ]\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/subConfigBuilders.js\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 9\n ** module chunks = 0\n **/","let attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers'\nconst argumentMap = {\n    entry: {\n        help: 'main entry point for your program, across all contexts'\n    },\n    out: {\n        help: 'destination for compiled bundle'\n    },\n    modules: {\n        help: 'where to look for modules'\n    },\n    watch: {\n        help: 'monitor source files for changes and recompile.',\n        action: 'storeTrue'\n    },\n    hot: {\n        help: 'enable hot module replacement',\n        action: 'storeTrue'\n    },\n    run: {\n        help: 'Which context to run on compilation, if any'\n    },\n    env: {\n        aliases: ['-e', '--environment'],\n        dest: 'environments',\n        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    context: {\n        aliases: ['-c'],\n        dest: 'contexts',\n        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    preset: {\n        help: '\\\n            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n            entry: ./src/entry.js\\\n            contexts: [NODE, BROWSER]\\\n            environments: [DEVELOPMENT, PRODUCTION]\\\n            out: ./dist/for/$context_$env.js\\\n        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.',\n    },\n    babelPreset: {\n        dest: 'babelPresets',\n        defaultValue: [],\n        help: 'add a preset to the babel loader, between es2015 and stage-0',\n        action: 'append'\n    },\n    logLevel: {\n        defaultValue: 'ERROR',\n        help: 'VERBOSE will output webpack stats and warnings'\n    }\n}\nexport default argumentMap\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/argumentMap.js\n **/","\nexport function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor() || {}\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n\nexport function selectTask({watch, run}){\n    if(watch && run){\n        return 'watch-and-run'\n    } else if(watch){\n        return 'watch'\n    } else if (run) {\n        return 'run'\n    } else {\n        return 'dist'\n    }\n}\n\nexport function taskWrapper(compilers, task, meta){\n    return {\n        task: task || 'dist', \n        compilers: compilers,\n        meta: meta || {logLevel: compilers[0].logLevel || 'ERROR'}, \n    }\n}\n\nexport function flatten(arrays){\n    return [].concat.apply([], arrays);\n}\n\n\nexport function splitByContext(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByContext))\n    }\n    var contexts = args.contexts\n    delete args.contexts\n    return contexts ? contexts.map(function(context){\n        var contextArgs = clone(args)\n        contextArgs.context = context\n        return contextArgs\n    }) : [args]\n}\n\nexport function splitByEnv(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByEnv))\n    }\n    var envs = args.environments\n    delete args.environments\n    return envs ? envs.map(function(env){\n        var envArgs = clone(args)\n        envArgs.env = env\n        return envArgs\n    }) : [args]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/utils.js\n **/","module.exports = require(\"colors\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"colors\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"webpack-node-externals\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-node-externals\"\n ** module id = 14\n ** module chunks = 0\n **/","import parserFromArgumentMap from './parserFromArgumentMap'\nimport argumentMap from './argumentMap'\nimport applyPreset from './presets'\n\nconst parser = parserFromArgumentMap(argumentMap)\n\nexport default function parse(argstring){\n    let [config, unknown] = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/))\n    return {\n        config: applyPreset(config),\n        unknown\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parser.js\n **/","import { ArgumentParser } from 'argparse'\nimport argumentMap from './argumentMap'\n\nexport function addArgumentMapToParser(parser, argumentMap){\n    for (var key in argumentMap) {\n        if (argumentMap.hasOwnProperty(key)) {\n            var argAliases = argumentMap[key].aliases || []\n            argAliases.unshift('--' + key)\n            parser.addArgument(argAliases, argumentMap[key])\n        }\n    }\n    return parser\n}\n\nexport default function parserFromArgumentMap(argumentMap){\n    var parser = new ArgumentParser({\n        argumentDefault: undefined,\n        version: '0.0.1',\n        addHelp: true,\n        description: 'context-driven js distribution tool for multiple environments'\n    })\n    return addArgumentMapToParser(parser, argumentMap)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parserFromArgumentMap.js\n **/","import fs from 'fs'\nimport { taskWrapper, splitByContext, splitByEnv } from './utils'\n\nfunction fromSrcDir(args){\n    args.entry = args.entry || './src/index.js'\n    args.modules = args.modules || './src'\n    return args\n}\n\nfunction defaultContextualComponent(args){\n    args = fromSrcDir(args)\n    args.out = args.out || args.context &&\n        './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js'\n    return args\n}\n\nfunction handleIndexTemplate(){\n    try {\n        fs.lstatSync('./dist/index.js')\n    } catch(err){\n        fs.mkdir('./dist')\n        fs.createReadStream(__dirname + '/templates/fullstackComponentIndex.js')\n            .pipe(fs.createWriteStream('./dist/index.js'))\n    }\n}\n\nexport function NODE_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function BROWSER_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function FULLSTACK_COMPONENT(args){\n    handleIndexTemplate() // TODO: this and splitByContext don't handle args.out like they should\n    args.contexts = ['NODE', 'BROWSER']\n    args.environments = ['DEVELOPMENT', 'PRODUCTION']\n    var contexts = splitByContext(args)\n    var compilers = splitByEnv(contexts).map(defaultContextualComponent)\n    return taskWrapper(compilers, args.watch ? 'watch' : 'dist')\n}\n\nexport function NODE_APPLICATION(args){\n    args.context = 'NODE'\n    delete args.contexts\n    args.out = args.out || './dist/index.js'\n    args.run = true\n    args = defaultContextualComponent(args)\n    args = splitByEnv(args)\n    return taskWrapper(args, args.watch ? 'watch-and-run' : 'run')\n}\n\nexport function FULLSTACK_APPLICATION(args){\n    args.contexts = ['NODE', 'BROWSER']\n    var contexts = splitByContext(args)\n    for (i = 0; i < contexts.length; i++) {\n        contexts[i] = defaultContextualComponent(contexts[i])\n        contexts[i].run = ( contexts[i].context == 'NODE' )\n    }\n    return taskWrapper(contexts, args.watch ? 'watch-and-run' : 'run')\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presetMap.js\n **/","import * as presetMap from './presetMap'\nimport { clone, taskWrapper, selectTask, splitByContext, splitByEnv} from './utils'\n\nfunction metaArgs(conf){\n    return {logLevel: conf.logLevel}\n}\n\nexport default function apply(args){\n    var preset = args.preset\n    delete args.preset\n    if (preset && presetMap[preset]) {\n        return presetMap[preset](args)\n    } else {\n        var contexts = splitByContext(args)\n        var compilers = splitByEnv(contexts)\n        return taskWrapper(compilers, selectTask(args), metaArgs(args))\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presets.js\n **/","export configBuilder, { autoLoader } from './webpacker'\nexport taskManager, { run } from './taskManager'\nexport parser from './argparser'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import colors from 'colors'\nimport identity from './identity'\n\nexport function log(str){\n    console.log(str)\n}\n\nexport function pad(num){\n    return (\"0\"+num).slice(-2);\n}\n\nexport function shortTimestamp(){\n    var d = new Date()\n    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds())\n}\n\nfunction upperFirst (str) {\n    return typeof str !=\"undefined\"  ? (str += '', str[0].toUpperCase() + str.substr(1)) : '' ;\n}\n\nexport function prefix({color = 'magenta'} = {}){\n    return colors[color]('[' + shortTimestamp() + '] ') + colors[`bg${upperFirst(color)}`](' ') \n}\n\nexport function importantLog(str, {color = 'magenta'} = {}){\n  log( prefix({color}) + \" \" + colors.bold(str))\n}\n\nexport function logImportantFromToAction(acting, {[identity]: {entry, out}}, color='cyan'){\n    importantLog(`${acting} from '${colors[color](entry)}' to '${colors[color](out)}'`)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/logging.js\n **/","import colors from 'colors'\nimport webpack from 'webpack'\nimport path from 'path'\nimport nodemon from 'nodemon'\nimport ON_DEATH from 'death'\n\nimport webpackConfig from './webpacker'\nimport configure from './argparser'\nimport identity, { sign } from './identity'\n\nimport { log, importantLog, logImportantFromToAction } from './logging'\n\nvar watching = {\n    count: 0,\n    compilers: []\n}\n\nconst polywatch = Symbol(polywatch)\n\nfunction endWatch(watcher) {\n    watcher.close(function(){\n        logImportantFromToAction(\"stopped compiling\", watcher, 'magenta')\n        watching.count -= 1\n        if(!watching.count){\n            importantLog('all watchers stopped. Polypacker exited cleanly')\n            process.exit(0)\n        }\n    })\n}\n\nfunction polypack(configuration){\n    let compiler = webpack(webpackConfig(configuration))\n    compiler[identity] = configuration[identity]\n    compiler[polywatch] = (...args) => {\n        let watcher = compiler.watch(...args)\n        watching.count += 1\n        watcher[identity] = configuration[identity]\n        watching.compilers.push(watcher)\n        return watcher\n    }\n    return compiler\n}\n\nfunction onBuild(err, stats, configuration) {\n    var compound_version = configuration[identity].signature\n    var status = 'success'\n    if(err) {\n      importantLog(colors.red(`Errors while building ${compound_version}!`), {color: 'red'})\n      log('Error', err);\n      status = 'error'\n    } else if(stats.hasErrors()) {\n      importantLog(colors.red(`Errors while building ${compound_version}!`), {color: 'red'})\n      log(stats.toString({colors: true, errorDetails: true}));\n      status = 'error'\n    } else {\n        importantLog('successfully built ' + colors.cyan(compound_version))\n    }\n    if(configuration.logLevel == 'VERBOSE') {\n      log(stats.toString({colors: true}));\n    }\n    return {\n        compiler: compound_version,\n        status\n    }\n}\n\nexport function run(configuration, callback=_=>_){\n    polypack(configuration).run((err, stats) => {\n        results[configuration[identity].signature] = onBuild(err, stats, configuration)\n        callback({results})\n    })\n} \n\nfunction compileForAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    let rejection = null\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"distributing\", configuration)\n            polypack(configuration).run((err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        if(!rejection){\n            rejection = setTimeout(_ => {\n                if(waiting)\n                    reject(new Error(`compiler timed out with the results ${results}`))\n            }, 100000)\n        }\n    })\n}\n\nvar contextWatchActions = {\n    NODE: ({watch, run}) => watch && run && nodemon.restart()\n}\n\nfunction watchAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"watching and distributing\", configuration)\n            polypack(configuration)[polywatch](250, (err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                if(contextWatchActions[configuration.context]){\n                    contextWatchActions[configuration.context](configuration)\n                }\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        setTimeout(() => {\n            if(waiting)\n                reject(new Error(`compiler timed out with the results ${results}`))\n        }, 100000)\n    })\n}\n\nasync function runSelectedContext(configurations, {unknown}){\n  configurations.map(configuration => {\n      if(configuration.run){\n          importantLog(\"runnning \" + colors.cyan(configuration.context) + \" context from \" +  colors.cyan(configuration.out))\n          nodemon({\n              execMap: { js: 'node' },\n              script: path.join(process.env.PWD, configuration.out),\n              args: unknown,\n              ignore: ['*'],\n              watch: ['nothing/'],\n              ext: 'noop'\n          }).on('restart', () => {\n              importantLog('Patched!')\n          })\n      }\n  })\n}\n\nfunction chain(...fns){\n    return async function(...args) {\n        for (let fn of fns){\n            await fn(...args)\n        }\n    }\n}\n\nconst tasks = {\n    'dist': chain(compileForAllConfigurations, exit),\n    'watch': watchAllConfigurations,\n    'run': chain(compileForAllConfigurations, runSelectedContext),\n    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n}\n\nfunction exit({err} = {}){\n    if(err){\n        console.log(err)\n        throw err\n    }\n    if(watching.count){\n        log('\\n')\n        importantLog('stopping watchers.')\n        watching.compilers.map(endWatch)\n    } else {\n        importantLog('Polypacker exited cleanly.')\n        process.exit(0)\n    }\n}\n\nexport default function runTask({config: {compilers, task}, unknown, callback = _=>_}){\n    return tasks[task](compilers.map(sign), {unknown}).then(callback).catch(err => exit({err}))\n}\n\nON_DEATH((signal, err) => exit({err}))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/taskManager.js\n **/","module.exports = require(\"argparse\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"argparse\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = require(\"death\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"death\"\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = require(\"nodemon\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"nodemon\"\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = require(\"read-json-sync\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"read-json-sync\"\n ** module id = 26\n ** module chunks = 0\n **/"],"sourceRoot":""}