{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap 8285c746dc388c750d49","webpack:///./src/identity.js","webpack:///./src/webpacker/autoLoader.js","webpack:///./src/webpacker/index.js","webpack:///external \"webpack\"","webpack:///./src/webpacker/configBuilder.js","webpack:///./src/webpacker/modifiers.js","webpack:///./src/webpacker/subConfigBuilders.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///./src/argparser/argumentMap.js","webpack:///./src/argparser/utils.js","webpack:///external \"colors\"","webpack:///external \"webpack-node-externals\"","webpack:///./src/argparser/parser.js","webpack:///./src/argparser/parserFromArgumentMap.js","webpack:///./src/argparser/presetMap.js","webpack:///./src/argparser/presets.js","webpack:///./src/index.js","webpack:///./src/logging.js","webpack:///./src/taskManager.js","webpack:///./src/webpacker ^\\.\\/.*$","webpack:///external \"argparse\"","webpack:///external \"death\"","webpack:///external \"nodemon\"","webpack:///external \"read-json-sync\""],"names":["require","install","module","exports","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","compound","_ref","context","env","toLowerCase","sign","obj","arguments","length","undefined","entry","out","hot","_obj$env","derivedEnv","identity","signature","Object","defineProperty","value","Symbol","toUpperCase","_interopRequireDefault","__esModule","default","_objectWithoutProperties","keys","target","i","indexOf","prototype","hasOwnProperty","simpleTemplate","name","data","_extends","test","RegExp","expandLoaderData","loader","Array","isArray","loaders","expandSimpleLoaderMap","map","reduce","newMap","buildExpander","loaderSetMap","expandLoader","explicit","forEach","endsWith","expandExplicitLoaders","explicitLoaders","autoLoader","_ref2","_ref2$jsonPath","jsonPath","_ref2$loaderMap","loaderMap","defaultLoaderMap","_ref2$loaderSetMap","defaultLoaderSetMap","json","_readJsonSync2","dependencyPool","assign","dependencies","devDpendencies","polypacker","filter","replace","source","key","_readJsonSync","cssLoaders","html","css","concat","less","scss","sass","woff","query","tff","svg","png","eot","jpg","common-asset","web-asset","general-asset","_configBuilder","_configBuilder2","_autoLoader2","_autoLoader3","__dirname","_defineProperty","enumerable","configurable","writable","webpackConfig","_ref$env","_ref$babelPresets","babelPresets","_ref$plugins","plugins","polypackMeta","_identity2","_ref$overrides","overrides","process","chdir","NODE_ENV","PWD","config","_subConfigBuilders","io","fixed","plugin","resolve","pwd","dirname","_path2","_modifiers2","_fs","_path","_webpack","_modifiers","_identity","modify","modifiers","polypack","production","_webpackNodeExternals","_webpackNodeExternals2","_webpack2","compound_version","externals","push","request","callback","substr","callbackLoader","_","debug","unshift","HotModuleReplacementPlugin","whitelist","optimize","UglifyJsPlugin","_toConsumableArray","arr","arr2","from","babelLoader","presets","preset","exclude","noParse","DefinePlugin","$ES","CONTEXT","JSON","stringify","ENV","process.env","BannerPlugin","raw","entryOnly","DedupePlugin","OccurenceOrderPlugin","NoErrorsPlugin","_ref3","NODE","BROWSER","output","libraryTarget","path","filename","basename","devtool","cache","node","__filename","_ref4","fallback","join","moduleDirectories","extensions","resolveLoader","root","_ref5","_ref6","_module","_ref7","_ref7$packagePath","packagePath","_autoLoader","attrHelp","argumentMap","help","watch","action","run","aliases","dest","babelPreset","defaultValue","logLevel","_parser","_parser2","clone","_typeof","copy","constructor","attr","selectTask","taskWrapper","compilers","task","meta","flatten","arrays","apply","splitByContext","args","contexts","contextArgs","splitByEnv","envs","environments","envArgs","iterator","parse","argstring","_parser$parseKnownArg","parser","parseKnownArgs","trim","split","_parser$parseKnownArg2","_slicedToArray","unknown","_presets2","sliceIterator","_arr","_n","_d","_e","_s","_i","next","done","err","TypeError","_parserFromArgumentMap","_parserFromArgumentMap2","_argumentMap","_argumentMap2","_presets","addArgumentMapToParser","argAliases","addArgument","parserFromArgumentMap","_argparse","ArgumentParser","argumentDefault","version","addHelp","description","fromSrcDir","defaultContextualComponent","handleIndexTemplate","_fs2","lstatSync","mkdir","createReadStream","pipe","createWriteStream","NODE_COMPONENT","_utils","BROWSER_COMPONENT","FULLSTACK_COMPONENT","NODE_APPLICATION","FULLSTACK_APPLICATION","_interopRequireWildcard","newObj","metaArgs","conf","presetMap","_presetMap","taskManager","configBuilder","_webpacker","get","_taskManager2","_webpacker2","_taskManager3","_argparser","_argparser2","log","str","console","pad","num","slice","shortTimestamp","d","Date","getHours","getMinutes","getSeconds","upperFirst","prefix","_ref$color","color","_colors2","importantLog","_ref2$color","bold","logImportantFromToAction","acting","_ref3$identity","_colors","_asyncToGenerator","fn","gen","this","Promise","reject","step","arg","info","error","then","endWatch","watcher","close","_logging","watching","count","exit","configuration","compiler","polywatch","onBuild","stats","status","red","hasErrors","toString","colors","errorDetails","cyan","results","compileForAllConfigurations","configurations","waiting","rejection","setTimeout","Error","watchAllConfigurations","contextWatchActions","chain","_len","fns","_key","ref","regeneratorRuntime","mark","_callee2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_args2","wrap","_context2","prev","t0","finish","stop","_x4","runTask","_ref4$config","_ref4$callback","tasks","runSelectedContext","_callee","_context","_nodemon2","execMap","js","script","ignore","ext","on","_x2","_x3","_nodemon","_death","_death2","restart","dist","watch-and-run","signal","webpackContext","req","webpackContextResolve","./autoLoader","./autoLoader.js","./configBuilder","./configBuilder.js","./index","./index.js","./modifiers","./modifiers.js","./subConfigBuilders","./subConfigBuilders.js"],"mappings":"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","file":"index.js","sourcesContent":["require(\"source-map-support\").install();\nmodule.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(19);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.sign = sign;\n\tvar identity = Symbol('polypacker');\n\t\n\tvar derivedEnv = (\"production\") && (\"production\").toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction compound(_ref) {\n\t    var context = _ref.context;\n\t    var env = _ref.env;\n\t\n\t    return context && env ? context.toLowerCase() + '_' + env.toLowerCase() : 'index';\n\t}\n\t\n\tfunction sign() {\n\t    var obj = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t    var entry = obj.entry;\n\t    var out = obj.out;\n\t    var hot = obj.hot;\n\t    var context = obj.context;\n\t    var _obj$env = obj.env;\n\t    var env = _obj$env === undefined ? derivedEnv : _obj$env;\n\t\n\t    obj[identity] = {\n\t        signature: compound({ context: context, env: env }),\n\t        entry: entry, out: out, hot: hot\n\t    };\n\t    return obj;\n\t}\n\t\n\texports.default = identity;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.expandSimpleLoaderMap = expandSimpleLoaderMap;\n\texports.default = autoLoader;\n\t\n\tvar _readJsonSync = __webpack_require__(26);\n\t\n\tvar _readJsonSync2 = _interopRequireDefault(_readJsonSync);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tfunction simpleTemplate(_ref) {\n\t    var name = _ref.name;\n\t\n\t    var data = _objectWithoutProperties(_ref, ['name']);\n\t\n\t    return _extends({\n\t        test: new RegExp('.' + name + '$', 'g') }, data);\n\t}\n\t\n\tfunction expandLoaderData(data) {\n\t    return typeof data == 'string' ? { loader: data } : Array.isArray(data) ? { loaders: data } : data;\n\t}\n\t\n\tfunction expandSimpleLoaderMap(map) {\n\t    return Object.keys(map).reduce(function (newMap, name) {\n\t        var data = map[name];\n\t        newMap[name] = simpleTemplate(_extends({ name: name }, expandLoaderData(map[name])));\n\t        return newMap;\n\t    }, {});\n\t}\n\t\n\tvar cssLoaders = ['style-loader', 'css-loader'];\n\tvar defaultLoaderMap = Object.assign(expandSimpleLoaderMap({\n\t    json: 'json-loader',\n\t    html: 'html-loader',\n\t    css: [].concat(cssLoaders, ['postcss-loader']),\n\t    less: [].concat(cssLoaders, ['less-loader']),\n\t    scss: [].concat(cssLoaders, ['sass-loader']),\n\t    sass: [].concat(cssLoaders, ['sass-loader'])\n\t}), {\n\t    woff: {\n\t        test: /\\.woff(2)?(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/font-woff\"\n\t    },\n\t    tff: {\n\t        test: /\\.ttf(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=application/octet-stream\"\n\t    },\n\t    svg: {\n\t        test: /\\.svg(\\?.+)?$/,\n\t        loader: \"url-loader\",\n\t        query: \"?limit=10000&mimetype=image/svg+xml\"\n\t    },\n\t    png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n\t    eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n\t    jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n\t});\n\t\n\tvar defaultLoaderSetMap = {\n\t    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n\t    'web-asset': ['common-asset', 'json', 'html', 'css'],\n\t    'general-asset': ['web-asset', 'scss', 'less', 'sass', 'scss']\n\t};\n\tfunction buildExpander(loaderSetMap) {\n\t    return function expandLoader(loaders, explicit) {\n\t        loaderSetMap[explicit] ? loaderSetMap[explicit].forEach(function (name) {\n\t            return loaders = expandLoader(loaders, name);\n\t        }) : loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true;\n\t        return loaders;\n\t    };\n\t}\n\t\n\tfunction expandExplicitLoaders(explicitLoaders, loaderSetMap) {\n\t    return explicitLoaders.reduce(buildExpander(loaderSetMap), {});\n\t}\n\t\n\tfunction autoLoader() {\n\t    var _ref2 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref2$jsonPath = _ref2.jsonPath;\n\t    var jsonPath = _ref2$jsonPath === undefined ? './package.json' : _ref2$jsonPath;\n\t    var _ref2$loaderMap = _ref2.loaderMap;\n\t    var loaderMap = _ref2$loaderMap === undefined ? defaultLoaderMap : _ref2$loaderMap;\n\t    var _ref2$loaderSetMap = _ref2.loaderSetMap;\n\t    var loaderSetMap = _ref2$loaderSetMap === undefined ? defaultLoaderSetMap : _ref2$loaderSetMap;\n\t\n\t    var json = (0, _readJsonSync2.default)(jsonPath);\n\t\n\t    var dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies, expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap));\n\t    return Object.keys(dependencyPool).filter(function (name) {\n\t        return name.endsWith('-loader');\n\t    }).map(function (name) {\n\t        return name.replace(/-loader$/, '');\n\t    }).map(function (name) {\n\t        return loaderMap[name];\n\t    }).filter(function (name) {\n\t        return name;\n\t    });\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.autoLoader = exports.default = undefined;\n\t\n\tvar _configBuilder = __webpack_require__(5);\n\t\n\tvar _configBuilder2 = _interopRequireDefault(_configBuilder);\n\t\n\tvar _autoLoader2 = __webpack_require__(2);\n\t\n\tvar _autoLoader3 = _interopRequireDefault(_autoLoader2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _configBuilder2.default;\n\texports.autoLoader = _autoLoader3.default;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack\");\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__dirname) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = webpackConfig;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _modifiers = __webpack_require__(6);\n\t\n\tvar _modifiers2 = _interopRequireDefault(_modifiers);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _subConfigBuilders = __webpack_require__(7);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar derivedEnv = (\"production\") && (\"production\").toUpperCase() || 'DEVELOPMENT';\n\t\n\tfunction webpackConfig(_ref) {\n\t    var entry = _ref.entry;\n\t    var out = _ref.out;\n\t    var hot = _ref.hot;\n\t    var modules = _ref.modules;\n\t    var context = _ref.context;\n\t    var _ref$env = _ref.env;\n\t    var env = _ref$env === undefined ? derivedEnv : _ref$env;\n\t    var _ref$babelPresets = _ref.babelPresets;\n\t    var babelPresets = _ref$babelPresets === undefined ? [] : _ref$babelPresets;\n\t    var _ref$plugins = _ref.plugins;\n\t    var plugins = _ref$plugins === undefined ? [] : _ref$plugins;\n\t    var polypackMeta = _ref[_identity2.default];\n\t    var _ref$overrides = _ref.overrides;\n\t    var overrides = _ref$overrides === undefined ? {} : _ref$overrides;\n\t\n\t    process.chdir(({\"NODE_ENV\":\"production\"}).PWD || './');\n\t    var config = Object.assign(polypackMeta ? _defineProperty({}, _identity2.default, polypackMeta) : {}, (0, _subConfigBuilders.io)({ entry: entry, out: out }), (0, _subConfigBuilders.target)({ context: context }), (0, _subConfigBuilders.fixed)(), (0, _subConfigBuilders.plugin)({ env: env, context: context, plugins: plugins }), (0, _subConfigBuilders.resolve)({ pwd: './', modules: modules, dirname: _path2.default.resolve(__dirname, '../../') }), (0, _subConfigBuilders.module)({ babelPresets: babelPresets }), overrides);\n\t    return (0, _modifiers2.default)({ config: config, env: env, hot: hot });\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, \"src/webpacker\"))\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = modify;\n\t\n\tvar _webpackNodeExternals = __webpack_require__(14);\n\t\n\tvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar modifiers = {\n\t    polypack: function polypack(config) {\n\t        var compound_version = config[_identity2.default].signature;\n\t        config.externals.push(function (context, request, callback) {\n\t            if (/^polypack!/.test(request)) return callback(null, request.substr(9) + '/dist/for/' + compound_version);\n\t            callback();\n\t        });\n\t        config.callbackLoader = {\n\t            polypack: function polypack(_) {\n\t                return 'require(\"./for/' + compound_version + '\") //polypacked by dist';\n\t            }\n\t        };\n\t        return config;\n\t    },\n\t    hot: function hot(config) {\n\t        config.debug = true;\n\t        config.plugins.unshift(new _webpack2.default.HotModuleReplacementPlugin());\n\t        config.externals = [(0, _webpackNodeExternals2.default)({ whitelist: [\"webpack/hot/poll?1000\"] })];\n\t        config.plugins.unshift(\"webpack/hot/poll?1000\");\n\t        return config;\n\t    },\n\t    production: function production(config) {\n\t        config.plugins.push(new _webpack2.default.optimize.UglifyJsPlugin());\n\t        return config;\n\t    }\n\t};\n\t\n\tfunction modify(_ref) {\n\t    var config = _ref.config;\n\t    var env = _ref.env;\n\t    var hot = _ref.hot;\n\t\n\t    config = modifiers.polypack(config);\n\t    if (env.toLowerCase() == 'production') config = modifiers.production(config);\n\t    if (hot) config = modifiers.hot(config);\n\t    return config;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.module = undefined;\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.plugin = plugin;\n\texports.target = target;\n\texports.output = output;\n\texports.fixed = fixed;\n\texports.resolve = resolve;\n\texports.output = output;\n\texports.io = io;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _webpackNodeExternals = __webpack_require__(14);\n\t\n\tvar _webpackNodeExternals2 = _interopRequireDefault(_webpackNodeExternals);\n\t\n\tvar _autoLoader = __webpack_require__(2);\n\t\n\tvar _autoLoader2 = _interopRequireDefault(_autoLoader);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction babelLoader(_ref) {\n\t    var babelPresets = _ref.babelPresets;\n\t\n\t    babelPresets.unshift('es2015');\n\t    babelPresets.push('stage-0');\n\t    return {\n\t        test: /\\.js|\\.jsx$/,\n\t        loader: 'babel',\n\t        query: {\n\t            presets: babelPresets.map(function (preset) {\n\t                return 'babel-preset-' + preset;\n\t            }).map(__webpack_require__(22).resolve)\n\t        },\n\t        exclude: /node_modules/,\n\t        noParse: /\\.min\\.js/\n\t    };\n\t}\n\t\n\tfunction plugin(_ref2) {\n\t    var env = _ref2.env;\n\t    var context = _ref2.context;\n\t    var plugins = _ref2.plugins;\n\t\n\t    return {\n\t        plugins: [new _webpack2.default.DefinePlugin({\n\t            $ES: {\n\t                CONTEXT: JSON.stringify(context || 'NODE'),\n\t                ENV: JSON.stringify(env)\n\t            }\n\t        }), new _webpack2.default.DefinePlugin({ \"process.env\": { NODE_ENV: '\"' + env.toLowerCase() + '\"' } }), new _webpack2.default.BannerPlugin('require(\"source-map-support\").install();', { raw: true, entryOnly: false })].concat(_toConsumableArray(plugins), [new _webpack2.default.optimize.DedupePlugin(), new _webpack2.default.optimize.OccurenceOrderPlugin(), new _webpack2.default.NoErrorsPlugin()]) };\n\t}\n\t\n\tfunction target(_ref3) {\n\t    var context = _ref3.context;\n\t\n\t    return {\n\t        target: {\n\t            NODE: 'node',\n\t            BROWSER: 'web'\n\t        }[context]\n\t    };\n\t}\n\t\n\tfunction output(out) {\n\t    return {\n\t        libraryTarget: \"commonjs2\",\n\t        path: _path2.default.dirname(out),\n\t        filename: _path2.default.basename(out)\n\t    };\n\t}\n\t\n\tfunction fixed() {\n\t    return {\n\t        devtool: 'source-map',\n\t        cache: false,\n\t        node: {\n\t            __dirname: true,\n\t            __filename: true\n\t        },\n\t        externals: [(0, _webpackNodeExternals2.default)()]\n\t    };\n\t}\n\t\n\tfunction resolve(_ref4) {\n\t    var pwd = _ref4.pwd;\n\t    var modules = _ref4.modules;\n\t    var dirname = _ref4.dirname;\n\t\n\t    var fallback = [_path2.default.join(dirname, \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules\"), _path2.default.join(_path2.default.resolve(pwd), \"node_modules/polypacker/node_modules\")];\n\t    return {\n\t        context: _path2.default.resolve(pwd),\n\t        resolve: {\n\t            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n\t            extensions: ['', '.json', '.js', '.jsx'],\n\t            fallback: fallback\n\t        },\n\t        resolveLoader: {\n\t            moduleDirectories: [\"node_modules\", \"node_modules/polypacker/node_modules\"],\n\t            root: _path2.default.join(dirname, \"node_modules\"),\n\t            fallback: fallback\n\t        }\n\t    };\n\t}\n\t\n\tfunction output(_ref5) {\n\t    var out = _ref5.out;\n\t\n\t    return {\n\t        output: {\n\t            libraryTarget: \"commonjs2\",\n\t            path: _path2.default.dirname(out),\n\t            filename: _path2.default.basename(out)\n\t        }\n\t    };\n\t}\n\t\n\tfunction io(_ref6) {\n\t    var entry = _ref6.entry;\n\t    var out = _ref6.out;\n\t\n\t    return _extends({ entry: [entry] }, output({ out: out }));\n\t}\n\t\n\tfunction _module(_ref7) {\n\t    var babelPresets = _ref7.babelPresets;\n\t    var _ref7$packagePath = _ref7.packagePath;\n\t    var packagePath = _ref7$packagePath === undefined ? './package.json' : _ref7$packagePath;\n\t\n\t    return {\n\t        module: {\n\t            loaders: [babelLoader({ babelPresets: babelPresets })].concat(_toConsumableArray((0, _autoLoader2.default)({ jsonPath: _path2.default.resolve(packagePath) })))\n\t        }\n\t    };\n\t}\n\texports.module = _module;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"fs\");\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"path\");\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\tvar attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers';\n\tvar argumentMap = {\n\t    entry: {\n\t        help: 'main entry point for your program, across all contexts'\n\t    },\n\t    out: {\n\t        help: 'destination for compiled bundle'\n\t    },\n\t    modules: {\n\t        help: 'where to look for modules'\n\t    },\n\t    watch: {\n\t        help: 'monitor source files for changes and recompile.',\n\t        action: 'storeTrue'\n\t    },\n\t    hot: {\n\t        help: 'enable hot module replacement',\n\t        action: 'storeTrue'\n\t    },\n\t    run: {\n\t        help: 'Which context to run on compilation, if any'\n\t    },\n\t    env: {\n\t        aliases: ['-e', '--environment'],\n\t        dest: 'environments',\n\t        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    context: {\n\t        aliases: ['-c'],\n\t        dest: 'contexts',\n\t        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp,\n\t        action: 'append'\n\t    },\n\t    preset: {\n\t        help: '\\\n\t            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n\t            entry: ./src/entry.js\\\n\t            contexts: [NODE, BROWSER]\\\n\t            environments: [DEVELOPMENT, PRODUCTION]\\\n\t            out: ./dist/for/$context_$env.js\\\n\t        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.'\n\t    },\n\t    babelPreset: {\n\t        dest: 'babelPresets',\n\t        defaultValue: [],\n\t        help: 'add a preset to the babel loader, between es2015 and stage-0',\n\t        action: 'append'\n\t    },\n\t    logLevel: {\n\t        defaultValue: 'ERROR',\n\t        help: 'VERBOSE will output webpack stats and warnings'\n\t    }\n\t};\n\texports.default = argumentMap;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = undefined;\n\t\n\tvar _parser = __webpack_require__(15);\n\t\n\tvar _parser2 = _interopRequireDefault(_parser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = _parser2.default;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\texports.clone = clone;\n\texports.selectTask = selectTask;\n\texports.taskWrapper = taskWrapper;\n\texports.flatten = flatten;\n\texports.splitByContext = splitByContext;\n\texports.splitByEnv = splitByEnv;\n\tfunction clone(obj) {\n\t    if (null == obj || \"object\" != (typeof obj === 'undefined' ? 'undefined' : _typeof(obj))) return obj;\n\t    var copy = obj.constructor() || {};\n\t    for (var attr in obj) {\n\t        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n\t    }\n\t    return copy;\n\t}\n\t\n\tfunction selectTask(_ref) {\n\t    var watch = _ref.watch;\n\t    var run = _ref.run;\n\t\n\t    if (watch && run) {\n\t        return 'watch-and-run';\n\t    } else if (watch) {\n\t        return 'watch';\n\t    } else if (run) {\n\t        return 'run';\n\t    } else {\n\t        return 'dist';\n\t    }\n\t}\n\t\n\tfunction taskWrapper(compilers, task, meta) {\n\t    return {\n\t        task: task || 'dist',\n\t        compilers: compilers,\n\t        meta: meta || { logLevel: compilers[0].logLevel || 'ERROR' }\n\t    };\n\t}\n\t\n\tfunction flatten(arrays) {\n\t    return [].concat.apply([], arrays);\n\t}\n\t\n\tfunction splitByContext(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByContext));\n\t    }\n\t    var contexts = args.contexts;\n\t    delete args.contexts;\n\t    return contexts ? contexts.map(function (context) {\n\t        var contextArgs = clone(args);\n\t        contextArgs.context = context;\n\t        return contextArgs;\n\t    }) : [args];\n\t}\n\t\n\tfunction splitByEnv(args) {\n\t    if (Array.isArray(args)) {\n\t        return flatten(args.map(splitByEnv));\n\t    }\n\t    var envs = args.environments;\n\t    delete args.environments;\n\t    return envs ? envs.map(function (env) {\n\t        var envArgs = clone(args);\n\t        envArgs.env = env;\n\t        return envArgs;\n\t    }) : [args];\n\t}\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"colors\");\n\n/***/ },\n/* 14 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"webpack-node-externals\");\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\texports.default = parse;\n\t\n\tvar _parserFromArgumentMap = __webpack_require__(16);\n\t\n\tvar _parserFromArgumentMap2 = _interopRequireDefault(_parserFromArgumentMap);\n\t\n\tvar _argumentMap = __webpack_require__(10);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tvar _presets = __webpack_require__(18);\n\t\n\tvar _presets2 = _interopRequireDefault(_presets);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar parser = (0, _parserFromArgumentMap2.default)(_argumentMap2.default);\n\t\n\tfunction parse(argstring) {\n\t    var _parser$parseKnownArg = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/));\n\t\n\t    var _parser$parseKnownArg2 = _slicedToArray(_parser$parseKnownArg, 2);\n\t\n\t    var config = _parser$parseKnownArg2[0];\n\t    var unknown = _parser$parseKnownArg2[1];\n\t\n\t    return {\n\t        config: (0, _presets2.default)(config),\n\t        unknown: unknown\n\t    };\n\t}\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.addArgumentMapToParser = addArgumentMapToParser;\n\texports.default = parserFromArgumentMap;\n\t\n\tvar _argparse = __webpack_require__(23);\n\t\n\tvar _argumentMap = __webpack_require__(10);\n\t\n\tvar _argumentMap2 = _interopRequireDefault(_argumentMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction addArgumentMapToParser(parser, argumentMap) {\n\t    for (var key in argumentMap) {\n\t        if (argumentMap.hasOwnProperty(key)) {\n\t            var argAliases = argumentMap[key].aliases || [];\n\t            argAliases.unshift('--' + key);\n\t            parser.addArgument(argAliases, argumentMap[key]);\n\t        }\n\t    }\n\t    return parser;\n\t}\n\t\n\tfunction parserFromArgumentMap(argumentMap) {\n\t    var parser = new _argparse.ArgumentParser({\n\t        argumentDefault: undefined,\n\t        version: '0.0.1',\n\t        addHelp: true,\n\t        description: 'context-driven js distribution tool for multiple environments'\n\t    });\n\t    return addArgumentMapToParser(parser, argumentMap);\n\t}\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(__dirname) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.NODE_COMPONENT = NODE_COMPONENT;\n\texports.BROWSER_COMPONENT = BROWSER_COMPONENT;\n\texports.FULLSTACK_COMPONENT = FULLSTACK_COMPONENT;\n\texports.NODE_APPLICATION = NODE_APPLICATION;\n\texports.FULLSTACK_APPLICATION = FULLSTACK_APPLICATION;\n\t\n\tvar _fs = __webpack_require__(8);\n\t\n\tvar _fs2 = _interopRequireDefault(_fs);\n\t\n\tvar _utils = __webpack_require__(12);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction fromSrcDir(args) {\n\t    args.entry = args.entry || './src/index.js';\n\t    args.modules = args.modules || './src';\n\t    return args;\n\t}\n\t\n\tfunction defaultContextualComponent(args) {\n\t    args = fromSrcDir(args);\n\t    args.out = args.out || args.context && './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js';\n\t    return args;\n\t}\n\t\n\tfunction handleIndexTemplate() {\n\t    try {\n\t        _fs2.default.lstatSync('./dist/index.js');\n\t    } catch (err) {\n\t        _fs2.default.mkdir('./dist');\n\t        _fs2.default.createReadStream(__dirname + '/templates/fullstackComponentIndex.js').pipe(_fs2.default.createWriteStream('./dist/index.js'));\n\t    }\n\t}\n\t\n\tfunction NODE_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction BROWSER_COMPONENT(args) {\n\t    return (0, _utils.taskWrapper)([defaultContextualComponent(args)]);\n\t}\n\t\n\tfunction FULLSTACK_COMPONENT(args) {\n\t    handleIndexTemplate(); // TODO: this and splitByContext don't handle args.out like they should\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    args.environments = ['DEVELOPMENT', 'PRODUCTION'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    var compilers = (0, _utils.splitByEnv)(contexts).map(defaultContextualComponent);\n\t    return (0, _utils.taskWrapper)(compilers, args.watch ? 'watch' : 'dist');\n\t}\n\t\n\tfunction NODE_APPLICATION(args) {\n\t    args.context = 'NODE';\n\t    delete args.contexts;\n\t    args.out = args.out || './dist/index.js';\n\t    args.run = true;\n\t    args = defaultContextualComponent(args);\n\t    args = (0, _utils.splitByEnv)(args);\n\t    return (0, _utils.taskWrapper)(args, args.watch ? 'watch-and-run' : 'run');\n\t}\n\t\n\tfunction FULLSTACK_APPLICATION(args) {\n\t    args.contexts = ['NODE', 'BROWSER'];\n\t    var contexts = (0, _utils.splitByContext)(args);\n\t    for (i = 0; i < contexts.length; i++) {\n\t        contexts[i] = defaultContextualComponent(contexts[i]);\n\t        contexts[i].run = contexts[i].context == 'NODE';\n\t    }\n\t    return (0, _utils.taskWrapper)(contexts, args.watch ? 'watch-and-run' : 'run');\n\t}\n\t/* WEBPACK VAR INJECTION */}.call(exports, \"src/argparser\"))\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = apply;\n\t\n\tvar _presetMap = __webpack_require__(17);\n\t\n\tvar presetMap = _interopRequireWildcard(_presetMap);\n\t\n\tvar _utils = __webpack_require__(12);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction metaArgs(conf) {\n\t    return { logLevel: conf.logLevel };\n\t}\n\t\n\tfunction apply(args) {\n\t    var preset = args.preset;\n\t    delete args.preset;\n\t    if (preset && presetMap[preset]) {\n\t        return presetMap[preset](args);\n\t    } else {\n\t        var contexts = (0, _utils.splitByContext)(args);\n\t        var compilers = (0, _utils.splitByEnv)(contexts);\n\t        return (0, _utils.taskWrapper)(compilers, (0, _utils.selectTask)(args), metaArgs(args));\n\t    }\n\t}\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.parser = exports.run = exports.taskManager = exports.autoLoader = exports.configBuilder = undefined;\n\t\n\tvar _webpacker = __webpack_require__(3);\n\t\n\tObject.defineProperty(exports, 'autoLoader', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _webpacker.autoLoader;\n\t  }\n\t});\n\t\n\tvar _taskManager2 = __webpack_require__(21);\n\t\n\tObject.defineProperty(exports, 'run', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _taskManager2.run;\n\t  }\n\t});\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _taskManager3 = _interopRequireDefault(_taskManager2);\n\t\n\tvar _argparser = __webpack_require__(11);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.configBuilder = _webpacker2.default;\n\texports.taskManager = _taskManager3.default;\n\texports.parser = _argparser2.default;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.log = log;\n\texports.pad = pad;\n\texports.shortTimestamp = shortTimestamp;\n\texports.prefix = prefix;\n\texports.importantLog = importantLog;\n\texports.logImportantFromToAction = logImportantFromToAction;\n\t\n\tvar _colors = __webpack_require__(13);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction log(str) {\n\t    console.log(str);\n\t}\n\t\n\tfunction pad(num) {\n\t    return (\"0\" + num).slice(-2);\n\t}\n\t\n\tfunction shortTimestamp() {\n\t    var d = new Date();\n\t    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds());\n\t}\n\t\n\tfunction upperFirst(str) {\n\t    return typeof str != \"undefined\" ? (str += '', str[0].toUpperCase() + str.substr(1)) : '';\n\t}\n\t\n\tfunction prefix() {\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var _ref$color = _ref.color;\n\t    var color = _ref$color === undefined ? 'magenta' : _ref$color;\n\t\n\t    return _colors2.default[color]('[' + shortTimestamp() + '] ') + _colors2.default['bg' + upperFirst(color)](' ');\n\t}\n\t\n\tfunction importantLog(str) {\n\t    var _ref2 = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t\n\t    var _ref2$color = _ref2.color;\n\t    var color = _ref2$color === undefined ? 'magenta' : _ref2$color;\n\t\n\t    log(prefix({ color: color }) + \" \" + _colors2.default.bold(str));\n\t}\n\t\n\tfunction logImportantFromToAction(acting, _ref3) {\n\t    var _ref3$identity = _ref3[_identity2.default];\n\t    var entry = _ref3$identity.entry;\n\t    var out = _ref3$identity.out;\n\t    var color = arguments.length <= 2 || arguments[2] === undefined ? 'cyan' : arguments[2];\n\t\n\t    importantLog(acting + ' from \\'' + _colors2.default[color](entry) + '\\' to \\'' + _colors2.default[color](out) + '\\'');\n\t}\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar runSelectedContext = function () {\n\t    var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(configurations, _ref2) {\n\t        var unknown = _ref2.unknown;\n\t        return regeneratorRuntime.wrap(function _callee$(_context) {\n\t            while (1) {\n\t                switch (_context.prev = _context.next) {\n\t                    case 0:\n\t                        configurations.map(function (configuration) {\n\t                            if (configuration.run) {\n\t                                (0, _logging.importantLog)(\"runnning \" + _colors2.default.cyan(configuration.context) + \" context from \" + _colors2.default.cyan(configuration.out));\n\t                                (0, _nodemon2.default)({\n\t                                    execMap: { js: 'node' },\n\t                                    script: _path2.default.join(({\"NODE_ENV\":\"production\"}).PWD, configuration.out),\n\t                                    args: unknown,\n\t                                    ignore: ['*'],\n\t                                    watch: ['nothing/'],\n\t                                    ext: 'noop'\n\t                                }).on('restart', function () {\n\t                                    (0, _logging.importantLog)('Patched!');\n\t                                });\n\t                            }\n\t                        });\n\t\n\t                    case 1:\n\t                    case 'end':\n\t                        return _context.stop();\n\t                }\n\t            }\n\t        }, _callee, this);\n\t    }));\n\t\n\t    return function runSelectedContext(_x2, _x3) {\n\t        return ref.apply(this, arguments);\n\t    };\n\t}();\n\t\n\texports.run = run;\n\texports.default = runTask;\n\t\n\tvar _colors = __webpack_require__(13);\n\t\n\tvar _colors2 = _interopRequireDefault(_colors);\n\t\n\tvar _webpack = __webpack_require__(4);\n\t\n\tvar _webpack2 = _interopRequireDefault(_webpack);\n\t\n\tvar _path = __webpack_require__(9);\n\t\n\tvar _path2 = _interopRequireDefault(_path);\n\t\n\tvar _nodemon = __webpack_require__(25);\n\t\n\tvar _nodemon2 = _interopRequireDefault(_nodemon);\n\t\n\tvar _death = __webpack_require__(24);\n\t\n\tvar _death2 = _interopRequireDefault(_death);\n\t\n\tvar _webpacker = __webpack_require__(3);\n\t\n\tvar _webpacker2 = _interopRequireDefault(_webpacker);\n\t\n\tvar _argparser = __webpack_require__(11);\n\t\n\tvar _argparser2 = _interopRequireDefault(_argparser);\n\t\n\tvar _identity = __webpack_require__(1);\n\t\n\tvar _identity2 = _interopRequireDefault(_identity);\n\t\n\tvar _logging = __webpack_require__(20);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { return step(\"next\", value); }, function (err) { return step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\t\n\tvar watching = {\n\t    count: 0,\n\t    compilers: []\n\t};\n\t\n\tvar polywatch = Symbol(polywatch);\n\t\n\tfunction endWatch(watcher) {\n\t    watcher.close(function () {\n\t        (0, _logging.logImportantFromToAction)(\"stopped compiling\", watcher, 'magenta');\n\t        watching.count -= 1;\n\t        if (!watching.count) {\n\t            (0, _logging.importantLog)('all watchers stopped. Polypacker exited cleanly');\n\t            process.exit(0);\n\t        }\n\t    });\n\t}\n\t\n\tfunction polypack(configuration) {\n\t    var compiler = (0, _webpack2.default)((0, _webpacker2.default)(configuration));\n\t    compiler[_identity2.default] = configuration[_identity2.default];\n\t    compiler[polywatch] = function () {\n\t        var watcher = compiler.watch.apply(compiler, arguments);\n\t        watching.count += 1;\n\t        watcher[_identity2.default] = configuration[_identity2.default];\n\t        watching.compilers.push(watcher);\n\t        return watcher;\n\t    };\n\t    return compiler;\n\t}\n\t\n\tfunction onBuild(err, stats, configuration) {\n\t    var compound_version = configuration[_identity2.default].signature;\n\t    var status = 'success';\n\t    if (err) {\n\t        (0, _logging.importantLog)(_colors2.default.red('Errors while building ' + compound_version + '!'), { color: 'red' });\n\t        (0, _logging.log)('Error', err);\n\t        status = 'error';\n\t    } else if (stats.hasErrors()) {\n\t        (0, _logging.importantLog)(_colors2.default.red('Errors while building ' + compound_version + '!'), { color: 'red' });\n\t        (0, _logging.log)(stats.toString({ colors: true, errorDetails: true }));\n\t        status = 'error';\n\t    } else {\n\t        (0, _logging.importantLog)('successfully built ' + _colors2.default.cyan(compound_version));\n\t    }\n\t    if (configuration.logLevel == 'VERBOSE') {\n\t        (0, _logging.log)(stats.toString({ colors: true }));\n\t    }\n\t    return {\n\t        compiler: compound_version,\n\t        status: status\n\t    };\n\t}\n\t\n\tfunction run(configuration) {\n\t    var callback = arguments.length <= 1 || arguments[1] === undefined ? function (_) {\n\t        return _;\n\t    } : arguments[1];\n\t\n\t    polypack(configuration).run(function (err, stats) {\n\t        results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t        callback({ results: results });\n\t    });\n\t}\n\t\n\tfunction compileForAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    var rejection = null;\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"distributing\", configuration);\n\t            polypack(configuration).run(function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        if (!rejection) {\n\t            rejection = setTimeout(function (_) {\n\t                if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t            }, 100000);\n\t        }\n\t    });\n\t}\n\t\n\tvar contextWatchActions = {\n\t    NODE: function NODE(_ref) {\n\t        var watch = _ref.watch;\n\t        var run = _ref.run;\n\t        return watch && run && _nodemon2.default.restart();\n\t    }\n\t};\n\t\n\tfunction watchAllConfigurations(configurations) {\n\t    var waiting = configurations.length;\n\t    var results = {};\n\t    return new Promise(function (resolve, reject) {\n\t        configurations.map(function (configuration) {\n\t            (0, _logging.logImportantFromToAction)(\"watching and distributing\", configuration);\n\t            polypack(configuration)[polywatch](250, function (err, stats) {\n\t                results[configuration[_identity2.default].signature] = onBuild(err, stats, configuration);\n\t                if (contextWatchActions[configuration.context]) {\n\t                    contextWatchActions[configuration.context](configuration);\n\t                }\n\t                waiting -= 1;\n\t                if (!waiting) {\n\t                    resolve(results);\n\t                }\n\t            });\n\t        });\n\t        setTimeout(function () {\n\t            if (waiting) reject(new Error('compiler timed out with the results ' + results));\n\t        }, 100000);\n\t    });\n\t}\n\t\n\tfunction chain() {\n\t    for (var _len = arguments.length, fns = Array(_len), _key = 0; _key < _len; _key++) {\n\t        fns[_key] = arguments[_key];\n\t    }\n\t\n\t    return function () {\n\t        var ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n\t            var _iteratorNormalCompletion,\n\t                _didIteratorError,\n\t                _iteratorError,\n\t                _iterator,\n\t                _step,\n\t                fn,\n\t                _args2 = arguments;\n\t\n\t            return regeneratorRuntime.wrap(function _callee2$(_context2) {\n\t                while (1) {\n\t                    switch (_context2.prev = _context2.next) {\n\t                        case 0:\n\t                            _iteratorNormalCompletion = true;\n\t                            _didIteratorError = false;\n\t                            _iteratorError = undefined;\n\t                            _context2.prev = 3;\n\t                            _iterator = fns[Symbol.iterator]();\n\t\n\t                        case 5:\n\t                            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n\t                                _context2.next = 12;\n\t                                break;\n\t                            }\n\t\n\t                            fn = _step.value;\n\t                            _context2.next = 9;\n\t                            return fn.apply(undefined, _args2);\n\t\n\t                        case 9:\n\t                            _iteratorNormalCompletion = true;\n\t                            _context2.next = 5;\n\t                            break;\n\t\n\t                        case 12:\n\t                            _context2.next = 18;\n\t                            break;\n\t\n\t                        case 14:\n\t                            _context2.prev = 14;\n\t                            _context2.t0 = _context2['catch'](3);\n\t                            _didIteratorError = true;\n\t                            _iteratorError = _context2.t0;\n\t\n\t                        case 18:\n\t                            _context2.prev = 18;\n\t                            _context2.prev = 19;\n\t\n\t                            if (!_iteratorNormalCompletion && _iterator.return) {\n\t                                _iterator.return();\n\t                            }\n\t\n\t                        case 21:\n\t                            _context2.prev = 21;\n\t\n\t                            if (!_didIteratorError) {\n\t                                _context2.next = 24;\n\t                                break;\n\t                            }\n\t\n\t                            throw _iteratorError;\n\t\n\t                        case 24:\n\t                            return _context2.finish(21);\n\t\n\t                        case 25:\n\t                            return _context2.finish(18);\n\t\n\t                        case 26:\n\t                        case 'end':\n\t                            return _context2.stop();\n\t                    }\n\t                }\n\t            }, _callee2, this, [[3, 14, 18, 26], [19,, 21, 25]]);\n\t        }));\n\t\n\t        return function (_x4) {\n\t            return ref.apply(this, arguments);\n\t        };\n\t    }();\n\t}\n\t\n\tvar tasks = {\n\t    'dist': chain(compileForAllConfigurations, exit),\n\t    'watch': watchAllConfigurations,\n\t    'run': chain(compileForAllConfigurations, runSelectedContext),\n\t    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n\t};\n\t\n\tfunction exit() {\n\t    var _ref3 = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\t\n\t    var err = _ref3.err;\n\t\n\t    if (err) {\n\t        console.log(err);\n\t        throw err;\n\t    }\n\t    if (watching.count) {\n\t        (0, _logging.log)('\\n');\n\t        (0, _logging.importantLog)('stopping watchers.');\n\t        watching.compilers.map(endWatch);\n\t    } else {\n\t        (0, _logging.importantLog)('Polypacker exited cleanly.');\n\t        process.exit(0);\n\t    }\n\t}\n\t\n\tfunction runTask(_ref4) {\n\t    var _ref4$config = _ref4.config;\n\t    var compilers = _ref4$config.compilers;\n\t    var task = _ref4$config.task;\n\t    var unknown = _ref4.unknown;\n\t    var _ref4$callback = _ref4.callback;\n\t    var callback = _ref4$callback === undefined ? function (_) {\n\t        return _;\n\t    } : _ref4$callback;\n\t\n\t    return tasks[task](compilers.map(_identity.sign), { unknown: unknown }).then(callback).catch(function (err) {\n\t        return exit({ err: err });\n\t    });\n\t}\n\t\n\t(0, _death2.default)(function (signal, err) {\n\t    return exit({ err: err });\n\t});\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar map = {\n\t\t\"./autoLoader\": 2,\n\t\t\"./autoLoader.js\": 2,\n\t\t\"./configBuilder\": 5,\n\t\t\"./configBuilder.js\": 5,\n\t\t\"./index\": 3,\n\t\t\"./index.js\": 3,\n\t\t\"./modifiers\": 6,\n\t\t\"./modifiers.js\": 6,\n\t\t\"./subConfigBuilders\": 7,\n\t\t\"./subConfigBuilders.js\": 7\n\t};\n\tfunction webpackContext(req) {\n\t\treturn __webpack_require__(webpackContextResolve(req));\n\t};\n\tfunction webpackContextResolve(req) {\n\t\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n\t};\n\twebpackContext.keys = function webpackContextKeys() {\n\t\treturn Object.keys(map);\n\t};\n\twebpackContext.resolve = webpackContextResolve;\n\tmodule.exports = webpackContext;\n\twebpackContext.id = 22;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"argparse\");\n\n/***/ },\n/* 24 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"death\");\n\n/***/ },\n/* 25 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"nodemon\");\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\tmodule.exports = require(\"read-json-sync\");\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** index.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 8285c746dc388c750d49\n **/","const identity = Symbol('polypacker')\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nfunction compound({context, env}){\n    return (context && env) ? context.toLowerCase() + '_' + env.toLowerCase() : 'index'\n}\n\nexport function sign(obj = {}){\n    let { entry, out, hot, context, env = derivedEnv } = obj\n    obj[identity] = {\n        signature: compound({context, env}),\n        entry, out, hot\n    }\n    return obj\n}\n\nexport default identity\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/identity.js\n **/","import readJsonSync from 'read-json-sync'\n\nfunction simpleTemplate({name, ...data}){\n    return {\n        test: new RegExp(`\\.${name}$`,'g'), ...data\n    }\n}\n\nfunction expandLoaderData(data){\n    return (typeof(data) == 'string') ?\n        {loader: data} :\n        Array.isArray(data) ?\n            {loaders: data} :\n            data\n}\n\nexport function expandSimpleLoaderMap(map){\n    return Object.keys(map).reduce((newMap, name) => {\n        let data = map[name]\n        newMap[name] = simpleTemplate({name, ...expandLoaderData(map[name])})\n        return newMap\n    }, {})\n}\n\nconst cssLoaders = [ 'style-loader', 'css-loader' ]\nconst defaultLoaderMap = Object.assign(\n    expandSimpleLoaderMap({\n        json: 'json-loader',\n        html: 'html-loader',\n        css:  [ ...cssLoaders, 'postcss-loader'],\n        less: [ ...cssLoaders, 'less-loader'   ],\n        scss: [ ...cssLoaders, 'sass-loader'   ],\n        sass: [ ...cssLoaders, 'sass-loader'   ] \n    }), {\n        woff: {\n            test: /\\.woff(2)?(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/font-woff\"\n        },\n        tff: {\n            test: /\\.ttf(\\?.+)?$/,\n            loader: \"url-loader\",\n            query: \"?limit=10000&mimetype=application/octet-stream\"\n        },\n        svg: {\n            test: /\\.svg(\\?.+)?$/,\n            loader: \"url-loader\",\n            query:\"?limit=10000&mimetype=image/svg+xml\"\n        },\n        png: { test: /\\.png$/, loader: \"url-loader\", query: \"?limit=100000\" },\n        eot: { test: /\\.eot(\\?.+)?$/, loader: \"file-loader\" },\n        jpg: { test: /\\.jpg$/, loader: \"file-loader\" }\n    }\n)\n\nconst defaultLoaderSetMap = {\n    'common-asset': ['woff', 'tff', 'eot', 'svg', 'png', 'jpg', 'png', 'eot', 'jpg'],\n    'web-asset': ['common-asset', 'json', 'html', 'css'],\n    'general-asset': ['web-asset', 'scss','less', 'sass', 'scss']\n}\nfunction buildExpander(loaderSetMap){\n    return function expandLoader(loaders, explicit){\n        loaderSetMap[explicit] ?\n            loaderSetMap[explicit].forEach(name => loaders = expandLoader(loaders, name)) :\n            loaders[explicit + (explicit.endsWith('-loader') ? '' : '-loader')] = true\n        return loaders\n    }\n}\n\nfunction expandExplicitLoaders(explicitLoaders, loaderSetMap){\n    return explicitLoaders.reduce(buildExpander(loaderSetMap), {})\n}\n\nexport default function autoLoader({\n    jsonPath = './package.json',\n    loaderMap = defaultLoaderMap,\n    loaderSetMap = defaultLoaderSetMap,\n} = {}){\n    let json = readJsonSync(jsonPath)\n\n    let dependencyPool = Object.assign({}, json.dependencies, json.devDpendencies,\n        expandExplicitLoaders(json.polypacker ? json.polypacker.loaders : [], loaderSetMap))\n    return Object.keys(dependencyPool)\n        .filter(name => name.endsWith('-loader'))\n        .map(name => name.replace(/-loader$/,''))\n        .map(name => loaderMap[name])\n        .filter(name => name)\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/autoLoader.js\n **/","export default from './configBuilder'\nexport autoLoader from './autoLoader'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/index.js\n **/","module.exports = require(\"webpack\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack\"\n ** module id = 4\n ** module chunks = 0\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport modify from './modifiers'\nimport identity from '../identity'\nimport { io, plugin, resolve, fixed, target, module } from './subConfigBuilders'\n\nconst derivedEnv = process.env.NODE_ENV && process.env.NODE_ENV.toUpperCase() || 'DEVELOPMENT'\n\nexport default function webpackConfig({\n    entry, out, hot, modules, context,\n    env=derivedEnv,\n    babelPresets=[],\n    plugins=[],\n    [identity]: polypackMeta,\n    overrides = {}\n}){\n    process.chdir(process.env.PWD || './')\n    let config = Object.assign(\n        polypackMeta ? {[identity]: polypackMeta} : {},\n        io({entry, out}),\n        target({context}),\n        fixed(),\n        plugin({env, context, plugins}),\n        resolve({pwd: './', modules, dirname: path.resolve(__dirname, '../../')}),\n        module({babelPresets}),\n        overrides\n    )\n    return modify({config, env, hot})\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/configBuilder.js\n **/","import nodeExternals from 'webpack-node-externals'\nimport webpack from 'webpack'\n\nimport polyPackerIdentity from '../identity'\n\nconst modifiers = {\n    polypack: config => {\n        let compound_version = config[polyPackerIdentity].signature\n        config.externals.push(\n            (context, request, callback) => {\n            if(/^polypack!/.test(request))\n                return callback(null, `${request.substr(9)}/dist/for/${compound_version}`);\n            callback();\n        })\n        config.callbackLoader = {\n            polypack: _ => `require(\"./for/${compound_version}\") //polypacked by dist`\n        }\n        return config\n    },\n    hot: config => {\n        config.debug = true\n        config.plugins.unshift(new webpack.HotModuleReplacementPlugin())\n        config.externals = [nodeExternals({ whitelist: [\"webpack/hot/poll?1000\"] })]\n        config.plugins.unshift(\"webpack/hot/poll?1000\")\n        return config\n    },\n    production: config => {\n        config.plugins.push( new webpack.optimize.UglifyJsPlugin() )\n        return config\n    }\n}\n\nexport default function modify({config, env, hot}){\n    config = modifiers.polypack(config)\n    if(env.toLowerCase() == 'production')\n        config = modifiers.production(config);\n    if(hot)\n        config = modifiers.hot(config);\n    return config\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/modifiers.js\n **/","import fs from 'fs'\nimport path from 'path'\nimport webpack from 'webpack'\nimport nodeExternals from 'webpack-node-externals'\nimport autoLoader from './autoLoader'\n\nfunction babelLoader({babelPresets}){\n    babelPresets.unshift('es2015')\n    babelPresets.push('stage-0')\n    return {\n        test: /\\.js|\\.jsx$/,\n        loader: 'babel',\n        query: {\n            presets: babelPresets.map(preset => `babel-preset-${preset}`).map(require.resolve)\n        },\n        exclude: /node_modules/,\n        noParse: /\\.min\\.js/\n    }\n}\n\nexport function plugin({env, context, plugins}){\n    return {\n        plugins: [\n        new webpack.DefinePlugin({\n            $ES: {\n                CONTEXT: JSON.stringify(context || 'NODE'),\n                ENV: JSON.stringify(env)\n            }\n        }),\n        new webpack.DefinePlugin({\"process.env\": {NODE_ENV: `\"${env.toLowerCase()}\"`}}),\n        new webpack.BannerPlugin(\n            'require(\"source-map-support\").install();',\n            { raw: true, entryOnly: false }\n        ),\n        ...plugins,\n        new webpack.optimize.DedupePlugin(),\n        new webpack.optimize.OccurenceOrderPlugin(),\n        new webpack.NoErrorsPlugin(),\n    ]}\n}\n\nexport function target({context}){\n    return {\n        target: ({\n            NODE: 'node',\n            BROWSER: 'web'\n        })[context]\n    }\n}\n\nexport function output(out){\n    return {\n        libraryTarget: \"commonjs2\",\n        path: path.dirname(out),\n        filename: path.basename(out),\n    }\n}\n\nexport function fixed() {\n    return {\n        devtool: 'source-map',\n        cache: false,\n        node: {\n            __dirname: true,\n            __filename: true\n        },\n        externals: [ nodeExternals() ]\n    }\n}\n\nexport function resolve({pwd, modules, dirname}) {\n    let fallback = [\n        path.join(dirname, \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules\"),\n        path.join(path.resolve(pwd), \"node_modules/polypacker/node_modules\")\n    ]\n    return {\n        context: path.resolve(pwd),\n        resolve: {\n            moduleDirectories: [modules, \"node_modules\", \"node_modules/polypacker/node_modules\"],\n            extensions: ['', '.json', '.js', '.jsx'],\n            fallback\n        },\n        resolveLoader: {\n            moduleDirectories: [\"node_modules\", \"node_modules/polypacker/node_modules\"],\n            root: path.join(dirname, \"node_modules\"),\n            fallback\n        },\n    }\n}\n\nexport function output({out}){\n    return {\n        output:  {\n            libraryTarget: \"commonjs2\",\n            path: path.dirname(out),\n            filename: path.basename(out),\n        }\n    }\n}\n\nexport function io({entry, out}){\n    return {entry: [ entry ], ...output({out})}\n}\n\nexport function module({babelPresets, packagePath = './package.json'}){\n    return {\n        module: {\n            loaders: [\n                babelLoader({babelPresets}), \n                ...autoLoader({jsonPath: path.resolve(packagePath)}),\n            ]\n        }\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/webpacker/subConfigBuilders.js\n **/","module.exports = require(\"fs\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"fs\"\n ** module id = 8\n ** module chunks = 0\n **/","module.exports = require(\"path\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"path\"\n ** module id = 9\n ** module chunks = 0\n **/","let attrHelp = 'There can be multiple (each a seperate argument), and they will contribute to the cross product of compilers'\nconst argumentMap = {\n    entry: {\n        help: 'main entry point for your program, across all contexts'\n    },\n    out: {\n        help: 'destination for compiled bundle'\n    },\n    modules: {\n        help: 'where to look for modules'\n    },\n    watch: {\n        help: 'monitor source files for changes and recompile.',\n        action: 'storeTrue'\n    },\n    hot: {\n        help: 'enable hot module replacement',\n        action: 'storeTrue'\n    },\n    run: {\n        help: 'Which context to run on compilation, if any'\n    },\n    env: {\n        aliases: ['-e', '--environment'],\n        dest: 'environments',\n        help: 'an application lifecycle environment {DEVELOPMENT, PRODUCTION, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    context: {\n        aliases: ['-c'],\n        dest: 'contexts',\n        help: 'a context {NODE, BROWSER, etc} this distribution will run in. ' + attrHelp ,\n        action: 'append'\n    },\n    preset: {\n        help: '\\\n            reference to a preset build configuration. For instance, FULLSTACK_COMPONENT references {\\\n            entry: ./src/entry.js\\\n            contexts: [NODE, BROWSER]\\\n            environments: [DEVELOPMENT, PRODUCTION]\\\n            out: ./dist/for/$context_$env.js\\\n        }. Presets are actually functions that take in the given user args, and thus can have fairly intricate logic.',\n    },\n    babelPreset: {\n        dest: 'babelPresets',\n        defaultValue: [],\n        help: 'add a preset to the babel loader, between es2015 and stage-0',\n        action: 'append'\n    },\n    logLevel: {\n        defaultValue: 'ERROR',\n        help: 'VERBOSE will output webpack stats and warnings'\n    }\n}\nexport default argumentMap\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/argumentMap.js\n **/","\nexport function clone(obj) {\n    if (null == obj || \"object\" != typeof obj) return obj;\n    var copy = obj.constructor() || {}\n    for (var attr in obj) {\n        if (obj.hasOwnProperty(attr)) copy[attr] = obj[attr];\n    }\n    return copy;\n}\n\nexport function selectTask({watch, run}){\n    if(watch && run){\n        return 'watch-and-run'\n    } else if(watch){\n        return 'watch'\n    } else if (run) {\n        return 'run'\n    } else {\n        return 'dist'\n    }\n}\n\nexport function taskWrapper(compilers, task, meta){\n    return {\n        task: task || 'dist', \n        compilers: compilers,\n        meta: meta || {logLevel: compilers[0].logLevel || 'ERROR'}, \n    }\n}\n\nexport function flatten(arrays){\n    return [].concat.apply([], arrays);\n}\n\n\nexport function splitByContext(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByContext))\n    }\n    var contexts = args.contexts\n    delete args.contexts\n    return contexts ? contexts.map(function(context){\n        var contextArgs = clone(args)\n        contextArgs.context = context\n        return contextArgs\n    }) : [args]\n}\n\nexport function splitByEnv(args){\n    if(Array.isArray(args)){\n        return flatten(args.map(splitByEnv))\n    }\n    var envs = args.environments\n    delete args.environments\n    return envs ? envs.map(function(env){\n        var envArgs = clone(args)\n        envArgs.env = env\n        return envArgs\n    }) : [args]\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/utils.js\n **/","module.exports = require(\"colors\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"colors\"\n ** module id = 13\n ** module chunks = 0\n **/","module.exports = require(\"webpack-node-externals\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"webpack-node-externals\"\n ** module id = 14\n ** module chunks = 0\n **/","import parserFromArgumentMap from './parserFromArgumentMap'\nimport argumentMap from './argumentMap'\nimport applyPreset from './presets'\n\nconst parser = parserFromArgumentMap(argumentMap)\n\nexport default function parse(argstring){\n    let [config, unknown] = parser.parseKnownArgs(argstring && argstring.trim().split(/ +/))\n    return {\n        config: applyPreset(config),\n        unknown\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parser.js\n **/","import { ArgumentParser } from 'argparse'\nimport argumentMap from './argumentMap'\n\nexport function addArgumentMapToParser(parser, argumentMap){\n    for (var key in argumentMap) {\n        if (argumentMap.hasOwnProperty(key)) {\n            var argAliases = argumentMap[key].aliases || []\n            argAliases.unshift('--' + key)\n            parser.addArgument(argAliases, argumentMap[key])\n        }\n    }\n    return parser\n}\n\nexport default function parserFromArgumentMap(argumentMap){\n    var parser = new ArgumentParser({\n        argumentDefault: undefined,\n        version: '0.0.1',\n        addHelp: true,\n        description: 'context-driven js distribution tool for multiple environments'\n    })\n    return addArgumentMapToParser(parser, argumentMap)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/parserFromArgumentMap.js\n **/","import fs from 'fs'\nimport { taskWrapper, splitByContext, splitByEnv } from './utils'\n\nfunction fromSrcDir(args){\n    args.entry = args.entry || './src/index.js'\n    args.modules = args.modules || './src'\n    return args\n}\n\nfunction defaultContextualComponent(args){\n    args = fromSrcDir(args)\n    args.out = args.out || args.context &&\n        './dist/for/' + args.context.toLowerCase() + '_' + args.env.toLowerCase() + '.js'\n    return args\n}\n\nfunction handleIndexTemplate(){\n    try {\n        fs.lstatSync('./dist/index.js')\n    } catch(err){\n        fs.mkdir('./dist')\n        fs.createReadStream(__dirname + '/templates/fullstackComponentIndex.js')\n            .pipe(fs.createWriteStream('./dist/index.js'))\n    }\n}\n\nexport function NODE_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function BROWSER_COMPONENT(args){\n    return taskWrapper([defaultContextualComponent(args)])\n}\n\nexport function FULLSTACK_COMPONENT(args){\n    handleIndexTemplate() // TODO: this and splitByContext don't handle args.out like they should\n    args.contexts = ['NODE', 'BROWSER']\n    args.environments = ['DEVELOPMENT', 'PRODUCTION']\n    var contexts = splitByContext(args)\n    var compilers = splitByEnv(contexts).map(defaultContextualComponent)\n    return taskWrapper(compilers, args.watch ? 'watch' : 'dist')\n}\n\nexport function NODE_APPLICATION(args){\n    args.context = 'NODE'\n    delete args.contexts\n    args.out = args.out || './dist/index.js'\n    args.run = true\n    args = defaultContextualComponent(args)\n    args = splitByEnv(args)\n    return taskWrapper(args, args.watch ? 'watch-and-run' : 'run')\n}\n\nexport function FULLSTACK_APPLICATION(args){\n    args.contexts = ['NODE', 'BROWSER']\n    var contexts = splitByContext(args)\n    for (i = 0; i < contexts.length; i++) {\n        contexts[i] = defaultContextualComponent(contexts[i])\n        contexts[i].run = ( contexts[i].context == 'NODE' )\n    }\n    return taskWrapper(contexts, args.watch ? 'watch-and-run' : 'run')\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presetMap.js\n **/","import * as presetMap from './presetMap'\nimport { clone, taskWrapper, selectTask, splitByContext, splitByEnv} from './utils'\n\nfunction metaArgs(conf){\n    return {logLevel: conf.logLevel}\n}\n\nexport default function apply(args){\n    var preset = args.preset\n    delete args.preset\n    if (preset && presetMap[preset]) {\n        return presetMap[preset](args)\n    } else {\n        var contexts = splitByContext(args)\n        var compilers = splitByEnv(contexts)\n        return taskWrapper(compilers, selectTask(args), metaArgs(args))\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/argparser/presets.js\n **/","export configBuilder, { autoLoader } from './webpacker'\nexport taskManager, { run } from './taskManager'\nexport parser from './argparser'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import colors from 'colors'\nimport identity from './identity'\n\nexport function log(str){\n    console.log(str)\n}\n\nexport function pad(num){\n    return (\"0\"+num).slice(-2);\n}\n\nexport function shortTimestamp(){\n    var d = new Date()\n    return pad(d.getHours()) + ':' + pad(d.getMinutes()) + '.' + pad(d.getSeconds())\n}\n\nfunction upperFirst (str) {\n    return typeof str !=\"undefined\"  ? (str += '', str[0].toUpperCase() + str.substr(1)) : '' ;\n}\n\nexport function prefix({color = 'magenta'} = {}){\n    return colors[color]('[' + shortTimestamp() + '] ') + colors[`bg${upperFirst(color)}`](' ') \n}\n\nexport function importantLog(str, {color = 'magenta'} = {}){\n  log( prefix({color}) + \" \" + colors.bold(str))\n}\n\nexport function logImportantFromToAction(acting, {[identity]: {entry, out}}, color='cyan'){\n    importantLog(`${acting} from '${colors[color](entry)}' to '${colors[color](out)}'`)\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/logging.js\n **/","import colors from 'colors'\nimport webpack from 'webpack'\nimport path from 'path'\nimport nodemon from 'nodemon'\nimport ON_DEATH from 'death'\n\nimport webpackConfig from './webpacker'\nimport configure from './argparser'\nimport identity, { sign } from './identity'\n\nimport { log, importantLog, logImportantFromToAction } from './logging'\n\nvar watching = {\n    count: 0,\n    compilers: []\n}\n\nconst polywatch = Symbol(polywatch)\n\nfunction endWatch(watcher) {\n    watcher.close(function(){\n        logImportantFromToAction(\"stopped compiling\", watcher, 'magenta')\n        watching.count -= 1\n        if(!watching.count){\n            importantLog('all watchers stopped. Polypacker exited cleanly')\n            process.exit(0)\n        }\n    })\n}\n\nfunction polypack(configuration){\n    let compiler = webpack(webpackConfig(configuration))\n    compiler[identity] = configuration[identity]\n    compiler[polywatch] = (...args) => {\n        let watcher = compiler.watch(...args)\n        watching.count += 1\n        watcher[identity] = configuration[identity]\n        watching.compilers.push(watcher)\n        return watcher\n    }\n    return compiler\n}\n\nfunction onBuild(err, stats, configuration) {\n    var compound_version = configuration[identity].signature\n    var status = 'success'\n    if(err) {\n      importantLog(colors.red(`Errors while building ${compound_version}!`), {color: 'red'})\n      log('Error', err);\n      status = 'error'\n    } else if(stats.hasErrors()) {\n      importantLog(colors.red(`Errors while building ${compound_version}!`), {color: 'red'})\n      log(stats.toString({colors: true, errorDetails: true}));\n      status = 'error'\n    } else {\n        importantLog('successfully built ' + colors.cyan(compound_version))\n    }\n    if(configuration.logLevel == 'VERBOSE') {\n      log(stats.toString({colors: true}));\n    }\n    return {\n        compiler: compound_version,\n        status\n    }\n}\n\nexport function run(configuration, callback=_=>_){\n    polypack(configuration).run((err, stats) => {\n        results[configuration[identity].signature] = onBuild(err, stats, configuration)\n        callback({results})\n    })\n} \n\nfunction compileForAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    let rejection = null\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"distributing\", configuration)\n            polypack(configuration).run((err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        if(!rejection){\n            rejection = setTimeout(_ => {\n                if(waiting)\n                    reject(new Error(`compiler timed out with the results ${results}`))\n            }, 100000)\n        }\n    })\n}\n\nvar contextWatchActions = {\n    NODE: ({watch, run}) => watch && run && nodemon.restart()\n}\n\nfunction watchAllConfigurations(configurations){\n    let waiting = configurations.length\n    let results = {}\n    return new Promise((resolve, reject) => {\n        configurations.map(configuration => {\n            logImportantFromToAction(\"watching and distributing\", configuration)\n            polypack(configuration)[polywatch](250, (err, stats) => {\n                results[configuration[identity].signature] = onBuild(err, stats, configuration)\n                if(contextWatchActions[configuration.context]){\n                    contextWatchActions[configuration.context](configuration)\n                }\n                waiting -= 1\n                if(!waiting){\n                    resolve(results)\n                }\n            })\n        })\n        setTimeout(() => {\n            if(waiting)\n                reject(new Error(`compiler timed out with the results ${results}`))\n        }, 100000)\n    })\n}\n\nasync function runSelectedContext(configurations, {unknown}){\n  configurations.map(configuration => {\n      if(configuration.run){\n          importantLog(\"runnning \" + colors.cyan(configuration.context) + \" context from \" +  colors.cyan(configuration.out))\n          nodemon({\n              execMap: { js: 'node' },\n              script: path.join(process.env.PWD, configuration.out),\n              args: unknown,\n              ignore: ['*'],\n              watch: ['nothing/'],\n              ext: 'noop'\n          }).on('restart', () => {\n              importantLog('Patched!')\n          })\n      }\n  })\n}\n\nfunction chain(...fns){\n    return async function(...args) {\n        for (let fn of fns){\n            await fn(...args)\n        }\n    }\n}\n\nconst tasks = {\n    'dist': chain(compileForAllConfigurations, exit),\n    'watch': watchAllConfigurations,\n    'run': chain(compileForAllConfigurations, runSelectedContext),\n    'watch-and-run': chain(watchAllConfigurations, runSelectedContext)\n}\n\nfunction exit({err} = {}){\n    if(err){\n        console.log(err)\n        throw err\n    }\n    if(watching.count){\n        log('\\n')\n        importantLog('stopping watchers.')\n        watching.compilers.map(endWatch)\n    } else {\n        importantLog('Polypacker exited cleanly.')\n        process.exit(0)\n    }\n}\n\nexport default function runTask({config: {compilers, task}, unknown, callback = _=>_}){\n    return tasks[task](compilers.map(sign), {unknown}).then(callback).catch(err => exit({err}))\n}\n\nON_DEATH((signal, err) => exit({err}))\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/taskManager.js\n **/","var map = {\n\t\"./autoLoader\": 2,\n\t\"./autoLoader.js\": 2,\n\t\"./configBuilder\": 5,\n\t\"./configBuilder.js\": 5,\n\t\"./index\": 3,\n\t\"./index.js\": 3,\n\t\"./modifiers\": 6,\n\t\"./modifiers.js\": 6,\n\t\"./subConfigBuilders\": 7,\n\t\"./subConfigBuilders.js\": 7\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 22;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/webpacker ^\\.\\/.*$\n ** module id = 22\n ** module chunks = 0\n **/","module.exports = require(\"argparse\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"argparse\"\n ** module id = 23\n ** module chunks = 0\n **/","module.exports = require(\"death\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"death\"\n ** module id = 24\n ** module chunks = 0\n **/","module.exports = require(\"nodemon\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"nodemon\"\n ** module id = 25\n ** module chunks = 0\n **/","module.exports = require(\"read-json-sync\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"read-json-sync\"\n ** module id = 26\n ** module chunks = 0\n **/"],"sourceRoot":""}